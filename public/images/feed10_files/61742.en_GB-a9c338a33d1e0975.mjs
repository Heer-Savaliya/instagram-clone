"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[61742,18755],{13882:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},983946:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},619013:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(13882);function n(e){(0,o.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},646920:(e,t,i)=>{var o;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null}],type:"Pin",abstractKey:null};n.hash="cabaa35ed7d59dee006897bf3ef32e3d";let l=n},764290:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};o.hash="b5b71fb4390c1d3835e468a25f687669";let n=o},577272:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};o.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let n=o},640498:(e,t,i)=>{i.d(t,{LG:()=>o,UO:()=>n,ZB:()=>l,ZP:()=>s});let o=100,n=10,l=28,s={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},829196:(e,t,i)=>{i.d(t,{YS:()=>a,eF:()=>r,m_:()=>s});var o=i(431705),n=i(194093),l=i(415787);function s(e,t,i,n,s){let a=new URLSearchParams,r=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(o){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);a.append(o.NR.SOURCE_EVENT_ID,e??"0"),a.append(o.NR.DESTINATION,JSON.stringify([...r])),a.append(o.NR.EXPIRY,i?o.uV:o.ug),a.append(o.NR.PRIORITY,i?o.NR.CLICK_PRIORITY:o.NR.VIEW_PRIORITY),s&&a.append(o.NR.ADVERTISER_ID,s),n&&a.append(o.NR.CAMPAIGN_ID,n),a.append(o.NR.SOURCE_EVENT_TYPE,i?o.bC:o.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&a.append(o.NR.HOSTNAME,e)}catch(e){(0,l.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+a.toString()}async function a(e,t,i,o,a,r,d,c,u){let _,{appType:p,osType:h}=r||{},m="",g="";if(["Pin","pinImpressions"].includes(e)&&t&&(o||c||u)){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:p,osType:h}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:p,osType:h}});return}m=s(i,[o,c,u],!1,a,d);try{g=new URL(window.location.href).hostname}catch(e){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(g&&"www.pinterest.com"!==g)document.createElement("img").setAttribute("attributionsrc",m),(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:p,osType:h,hostname:g}});else if(!(_=await window.fetch(m,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:p,osType:h}})}catch(e){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,n.Z)(e,"name"),message:(0,n.Z)(e,"message"),appType:p,osType:h,hostname:g,responseStatus:_&&_.status}})}}else(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:p,osType:h}})}function r(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},118755:(e,t,i)=>{i.d(t,{G6:()=>l,i7:()=>s,oi:()=>o,u$:()=>n,un:()=>r,vU:()=>a,w1:()=>d});let o=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),n=e=>e?e.includes("Chrome")?o.CHROME:e.includes("Safari")?o.SAFARI:e.includes("Firefox")?o.FIREFOX:e.includes("Opera")?o.OPERA:e.includes("IE")?o.IE:e.includes("Edge")?o.EDGE:o.OTHER:o.OTHER;function l(e){return n(e)===o.SAFARI}function s(e){return n(e)===o.CHROME}function a(e){return n(e)===o.FIREFOX}function r(e){return n(e)===o.EDGE}function d(e){return n(e)===o.IE}},936437:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(967232),n=i(144326),l=i(240760);function s(){let e=(0,n.ZP)();return function(t,i){let n=new Date(t).getTime(),s=Date.now()-n,a=Math.floor(s/o.FS),r=Math.floor(s/o.UK),d=Math.floor(s/o.F4),c=Math.floor(s/o.VL),u=Math.floor(s/o.N9),_=Math.floor(s/o.N1),p=e.nbt(["{{ minutes }} minute ago", "{{ minutes }} minutes ago"], a, " - ", true),h=e.nbt(["{{ hours }} hour ago", "{{ hours }} hours ago"], r, " - ", true),m=e.nbt(["{{ days }} day ago", "{{ days }} days ago"], d, " - ", true),g=e.nbt(["{{ weeks }} week ago", "{{ weeks }} weeks ago"], c, " - ", true),f=e.nbt(["{{ months }} month ago", "{{ months }} months ago"], u, "useGetHumanizedTimeSince.monthsString", true),y=e.nbt(["{{ years }} year ago", "{{ years }} years ago"], _, " - ", true),x=e.nbt(["{{ minutes }}m", "{{ minutes }}m"], a, "minutes ago abbreviated", true),b=e.nbt(["{{ hours }}h", "{{ hours }}h"], r, "hours ago abbreviated", true),v=e.nbt(["{{ days }}d", "{{ days }}d"], d, "days ago abbreviated", true),w=e.nbt(["{{ weeks }}w", "{{ weeks }}w"], c, "weeks ago abbreviated", true),P=e.nbt(["{{ months }} mo", "{{ months }} mo"], u, "months ago abbreviated", true),A=e.nbt(["{{ years }}y", "{{ years }}y"], _, "years ago abbreviated", true);return _>0?(0,l.nk)(i?A:y,{years:_}).join(""):u>0?(0,l.nk)(i?P:f,{months:u}).join(""):c>0?(0,l.nk)(i?w:g,{weeks:c}).join(""):d>0?(0,l.nk)(i?v:m,{days:d}).join(""):r>0?(0,l.nk)(i?b:h,{hours:r}).join(""):a>0?(0,l.nk)(i?x:p,{minutes:a}).join(""):e.bt("Just now", "Just now", " - ", undefined, true)}}},788388:(e,t,i)=>{i.d(t,{F:()=>f,Z:()=>g});var o=i(667294),n=i(829196),l=i(118755),s=i(573706),a=i(39260),r=i(635284),d=i(730212),c=i(410150),u=i(644797),_=i(243583),p=i(415787),h=i(855746);let m={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"curatedBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}};function g({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:g,contextLogData:f,clientTrackingParams:y,duploShouldTrackPinEvents:x,elementType:b,impressionAuxFields:v,inImpressionExp:w,impressionType:P,impressionsFramework:A,isPaused:j,loggingId:S,objectIdStr:C,slotIndex:I,trackCarousel:T,viewData:E,viewParameter:z,viewType:k,isPromoted:F,storyPinProductEventData:R}){let{logContextEvent:L}=(0,s.v)(),{logMrcVideoAdEventOnPlay:D}=(0,u.r)(),{userAgent:{browserName:O}}=(0,d.B)(),{logStat:B}=(0,_.Yg)(),Z=A||r.Z,H=(0,o.useRef)(null),N=(0,o.useRef)(e=>{});N.current=o=>{let s=m[P],a=s.idType,r={clientTrackingParams:y,endTime:o.endTime,[a]:S,slotIndex:I,time:o.startTime,renderDuration:o.endTime-o.startTime,type:t,...v,forcedExit:"removed"===o.forcedExit?0:void 0};if("Pin"===P){let e=[],t=o.visibleEvents||new Map,i=o.hiddenEvents||new Map;if([1,50,80,2].forEach(o=>{t.has(o)&&e.push({type:o,time:1e6*(t.get(o)||0),visible:!0}),i.has(o)&&e.push({type:o,time:1e6*(i.get(o)||0),visible:!1})}),r={...r,pinCellWidth:o.pinCellWidth||0,pinCellHeight:o.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},(0,l.i7)(O)&&v&&v.isPromoted){let{attributionSourceId:e,isPromoted:t,link:i,campaignId:o,araAuxData:l,advertiserId:s,domain:a,adDestinationUrl:r}=v;(0,n.YS)(P,t??null,e??null,i??null,o??null,l??null,s??null,a??null,r??null)}}let d={component:g,object_id_str:C,view_type:k,view_data:E||{},view_parameter:z};if(T)e&&T&&L({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...r,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{...f}});else{let e={clientTrackingParams:y,event_type:s.eventType,...d,element:b,event_data:{[s.impressionType]:"Story"===P?r:[r],...R?{storyPinProductEventData:R}:{}},aux_data:{closeup_navigation_type:i,...f}};L(e),D(e)}x&&B("log_pin_impression")};let{expName:M,group:G}=(0,a.Z)({skipActivation:!0}),U=(0,c.ZP)(),V=(0,h.MM)(),{isAuthenticated:W}=(0,d.B)(),$=(0,o.useCallback)(()=>{let e=!1;try{let{current:t}=H;if(t instanceof HTMLElement&&(!F||t.getElementsByTagName("img").length>0)){let i=Z.start(t);i.onExitViewport(N.current).setDebugId(S||"unknown"),x&&i.onEnterViewport(()=>{B("log_pin_impression_track_enter_viewport")}),e=!0,G&&(0,p.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:U,experimentName:M,group:G,handlerId:V,isAuthenticated:W,slotIndex:I??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}x&&B("log_pin_impression_track",{didStartTracking:e})},[H.current]);return(0,o.useEffect)(()=>(w&&!Z.inExperiment&&Z.setExperimentStatus(!0),j||$(),()=>{let{current:e}=H;e instanceof HTMLElement&&(!F||e.getElementsByTagName("img").length>0)&&Z.stop(e)}),[j,$]),H}let f=({children:e,...t})=>e({impressionTrackerRef:g(t)})},333733:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(667294),n=i(883119),l=i(876594),s=i(793874),a=i(635284),r=i(556712),d=i(785893);function c({children:e,footerConfig:t,headerConfig:i,height:c,hideOnScroll:u,hideOnScrollState:{isHidden:_,updateHiddenState:p},noPadding:h,paddingY:m=r.og,type:g,zIndex:f}){let y,x,{headerLimitedOverflow:b,ignoreObstructions:v,zIndexForGestaltBug:w}=i||{},{appUpsellFooterConfig:P,footerInLego:A,navFooterConfig:j}=t||{},S=!!P,C="header"===g?"top":"bottom",I=(0,s.vs)(),T=(0,o.useRef)(null),E=(0,o.useRef)(null);(0,o.useEffect)(()=>{try{if(!v){let e=T.current;E.current=b&&e&&Array.isArray(e.children)?e.children[0]:e,E.current instanceof HTMLElement&&a.Z.addObstruction(C,E.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!v&&E.current instanceof HTMLElement&&a.Z.removeObstruction(C,E.current)}},[v,b,C,I]);let z="top"===C?"relative":"fixed",k=(c??r.R$)+(i?.overrideTop||0),F=u||j?{transition:A?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",..._?{transform:`translateY(${"top"===C?-k:k}px)`,opacity:+!A}:Object.freeze({})}:{},R=2*!("relative"!==z||i?.noGutter),L=R?-R:0;I&&("header"===g?y=-1:x=-1);let D=i?.isTransparentBackground&&l.o7L||i?.isTranslucent&&(I?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||l.k95;return(0,d.jsx)(n.xu,{ref:T,bottom:"footer"===g,dangerouslySetInlineStyle:{__style:{top:y,bottomStyle:x,...!f||w?{zIndex:w||1}:Object.freeze({}),...b?{background:"transparent",overflow:"hidden",paddingBottom:r.UB,marginBottom:-r.UB,pointerEvents:"none"}:Object.freeze({}),...i?.hasBorder?{borderBottom:r.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...F}},"data-test-id":g,display:S?"flex":void 0,height:c&&!A?c:void 0,left:!0,marginEnd:A?"auto":L,marginStart:A?"auto":L,onTransitionEnd:()=>{(u||j)&&E.current&&(_?a.Z.removeObstruction(C,E.current):a.Z.addObstruction(C,E.current))},position:z,right:!0,top:"header"===g,width:A||"fixed"!==z?void 0:"100%",zIndex:w?void 0:f,children:(0,d.jsx)(n.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:D,height:A?S?void 0:c??r.R$:"100%",boxShadow:A?r.KJ:void 0,marginBottom:A&&!j?.docked?16:void 0,...b?{pointerEvents:"auto"}:Object.freeze({}),...i?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:A||t?.alignCenter?"flex":void 0,marginEnd:A?"auto":void 0,marginStart:A?"auto":void 0,paddingX:4*("footer"===g&&!h)+R,paddingY:h?0:m,position:"relative",rounding:A&&!j?.docked?"pill":void 0,width:j?j.footerWidth:S?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:p}):e})})}},94757:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var o=i(883119),n=i(556712),l=i(333733),s=i(727976),a=i(785893);function r({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:r,isTransparentBackground:d,noGutter:c,overrideTop:u,useRoundedCorners:_,zIndexForGestaltBug:p,...h}){let{noPadding:m,paddingY:g=n.og,zIndex:f}=h;return(0,a.jsx)(o.Le,{height:t?n.LV+2*(m?0:g)*4:void 0,top:u||0,zIndex:f||void 0,children:(0,a.jsx)(s.Z,{hideOnScroll:h.hideOnScroll,children:o=>(0,a.jsx)(l.Z,{...h,headerConfig:{isTranslucent:r,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:c,overrideTop:u,zIndexForGestaltBug:p,useRoundedCorners:_},hideOnScrollState:o,type:"header"})})})}},727976:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(667294),n=i(235838);function l(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s extends o.Component{constructor(...e){super(...e),l(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),l(this,"lastScrollPos",0),l(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),l(this,"handleScroll",(0,n.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state,o=window.scrollY,n=o-this.lastScrollPos,l="none",{scrollHeight:s,clientHeight:a}=document.documentElement||{};Number.isNaN(s)||Number.isNaN(a)||(l=n<0?o<=Math.abs((window.scrollMinY||0)+Math.max(n,20))?"start":"none":o>=(window.scrollMaxY||s-a)-Math.max(n,20)?"end":"none");let r=55*!t?.isModal;e?n>20&&i&&o>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20&&!i||o<=r)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===l&&!i||o<=r?(this.updateHiddenState(!0),t?.onScroll(!0)):(o>r||"end"===l)&&i&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20||"start"===l)&&i||o<=r?(this.updateHiddenState(!1),t?.onScroll(!1)):(n>20||"end"===l)&&!i&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=o},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!t?.forceShow&&i,updateHiddenState:this.updateHiddenState})}}},556712:(e,t,i)=>{i.d(t,{KJ:()=>a,LV:()=>s,R$:()=>o,UB:()=>l,dS:()=>r,og:()=>n});let o=64,n=3,l=100,s=44,a="0px 0px 8px rgba(0, 0, 0, 0.1)",r="1px solid #efefef"},206835:(e,t,i)=>{i.d(t,{P:()=>r,t:()=>d});var o=i(252071),n=i(400416);let l=()=>{};async function s(e,t){let i=o.Z.create("PinFeedbackResource",e);await i.callUpdate(),t()}let a={complaint:s,followBoard:async function e({board_id:e},t,i){await (0,n.Z)({url:`/v3/boards/${e??""}/follow/`,method:"PUT"}),i({event_type:26,object_id_str:e}),t()},followPinner:async function e(e,t){let i=o.Z.create("UserFollowResource",e);await i.callCreate(),t()},followTopic:async function e(e,t,i){let n=o.Z.create("InterestFollowResource",e);await n.callCreate(),t(),i({event_type:601,object_id_str:e.interest_id})},newsHubPinHide:function(e,t){(0,n.Z)({url:e.undo?`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/undo/`:`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/hide/`,method:"PUT"}).then(()=>t()),s({feedback_type:1,pin_id:e.pin_id,...e},t)},promotedComplaint:async function e(e,t){let i=o.Z.create("PinFeedbackResource",e);await i.callUpdate(),t()},relatedPinHide:function(e,t){(0,n.Z)({url:e.undo?`/v3/p2p/${e.pin??""}/unhide/`:`/v3/p2p/${e.pin??""}/hide/`,method:"PUT"}).then(()=>t()),s({feedback_type:1,pin_id:e.pin,...e},t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:async function e({board_id:e},t,i){await (0,n.Z)({url:`/v3/boards/${e??""}/follow/`,method:"DELETE"}),i({event_type:27,object_id_str:e}),t()},unfollowPinner:async function e(e,t){let i=o.Z.create("UserFollowResource",e);await i.callDelete(),t()},unfollowTopic:async function e(e,t,i){let n=o.Z.create("InterestFollowResource",e);await n.callDelete(),t(),i({event_type:602,object_id_str:e.interest_id})},unrelatedSearchPin:function(e,t){(0,n.Z)({url:e.undo?`/v3/search/${e.pin_id??""}/unhide/`:`/v3/search/${e.pin_id??""}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then(()=>t()),s({feedback_type:1,...e},t)},showFewerWeightLossAds:function(e,t){t()}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function d(e,t={},i=l,o){let n=e?a[e]:null;return n?n(t,i,o):i()}},957486:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(667294),n=i(545007),l=i(809833),s=i(604759);function a(e){let{name:t,optionsKey:i}=e,a=t===l.fY,r=(0,s.bC)(),d=r?.get(t,i);if(d)throw d;let c=e=>e[t]?.[i],u=(0,n.v9)(({resources:e})=>c(e)?.nextBookmark),_=(0,n.v9)(({resources:e})=>c(e)?.data),p=(0,n.v9)(({resources:e})=>c(e)?.auxData),h=(0,n.v9)(({resources:e})=>c(e)?.error),m=(0,o.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(a)return m.current;let g={auxData:p,data:_,error:h,isAtEnd:u===l.qx,nextBookmark:u};return(g.auxData!==m.current.auxData||g.data!==m.current.data||g.error!==m.current.error||g.isAtEnd!==m.current.isAtEnd||g.nextBookmark!==m.current.nextBookmark)&&(m.current=g),m.current}},931397:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(809833),n=i(174044);function l(e){let{enabledRouteRefresh:t,headers:i,name:l,noCache:s,options:a,schema:r}=e??{name:o.fY,options:null},d=!e,{fetchResource:c,ref:u}=(0,n.Z)({enabledRouteRefresh:t,headers:i,name:l,noCache:s,options:a,schema:r},d,!1);return d||c(),u}},892205:(e,t,i)=>{i.d(t,{Z:()=>o});let o=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},728593:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(830997),n=i(873095);let l=()=>{let e=(0,o.g)(),t=(0,n.l)();return i=>{let{mobileOptions:o,desktopOptions:n,reason:l,attributionLabel:s,pinId:a}=i;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:l,attributionLabel:s,...n?.modalOptions}):t&&t.showMobileSignupModal({reason:l,attributionLabel:s,headingType:o?.headingType??"none",pinId:a})}}},82864:(e,t,i)=>{i.d(t,{Z:()=>o});let o={PIN_HIDDEN:e=>({title:e.bt("Pin hidden", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:e.bt("Got it! We'll try to show you more relevant Pins in the future.", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}),PIN_REPORTED:e=>({title:e.bt("Reported", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:e.bt("Thanks! Your feedback helps us keep the Pinterest community safe.", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after hiding a pin", undefined, true)})}},576359:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(667294);function n(e,t){let i=(0,o.useRef)([]),[n,l]=(0,o.useState)(),[s,a]=(0,o.useReducer)(n??(()=>t),t),r=(0,o.useCallback)(t=>{n?a(t):(i.current.length||e().then(e=>{l(()=>e.default)}),i.current=[...i.current,t])},[e,n]);return(0,o.useEffect)(()=>{n&&(i.current.forEach(a),i.current=[])},[n]),[s,r]}},644797:(e,t,i)=>{i.d(t,{W:()=>c,r:()=>d});var o=i(667294),n=i(573706),l=i(498490),s=i(297728),a=i(785893);let{Provider:r,useHook:d}=(0,l.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:i}=(0,n.v)(),{checkExperiment:l}=(0,s.F)(),[d,c]=(0,o.useState)(!1),[u,_]=(0,o.useState)([]),[p,h]=(0,o.useState)([]),[m,g]=(0,o.useState)({}),f=l("web_ads_mrc_video_impression").anyEnabled,y=e=>{g(t=>({...t,[e]:!0}))},x=(0,o.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||i)&&_(t=>[...t,e].slice(-1e3))}},[f]),b=(0,o.useCallback)(e=>{18===e.eventType&&f&&h(t=>[...t,e].slice(-1e3))},[f]),v=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},w=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,o.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!m[i]||!f||(t(v(e)),!1)});e.length!==u.length&&_(e)},[u,f,t,m]),(0,o.useEffect)(()=>{let e=p.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&f){let t=w(e);return t&&i(t),!1}return!0});e.length!==p.length&&h(e)},[p,f,i,m]);let P=(0,o.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:b,logMrcVideoAdEventOnPlay:x,setCaptionsEnabled:c,setVideoPlayed:y,videosPlayed:m}),[d,x,b,m]);return(0,a.jsx)(r,{value:P,children:e})}},533191:(e,t,i)=>{i.d(t,{Z:()=>S});var o,n=i(545007);i(167912);var l=i(883119),s=i(488792),a=i(384609),r=i(144326),d=i(297728),c=i(728593),u=i(1006),_=i(154785),p=i(901450),h=i(280625),m=i(410150),g=i(969119),f=i(383399),y=i(578406),x=i(934648),b=i(424583),v=i(310368),w=i(55463),P=i(785893);let A=({children:e,pulsar:t,testId:i})=>t.show?(0,P.jsx)(l.xu,{"data-test-id":i,position:"relative",children:(0,P.jsxs)(l.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,P.jsx)(l.o3,{})})]})}):(0,P.jsx)(l.xu,{"data-test-id":i,children:e}),j=void 0!==o?o:o=i(646920);function S({auxData:e,disabled:t,disableLog:i,followEventType:o,id:S,inline:C,invertColors:I,isFollowed:T,isIdeaPin:E,isLegoEnabled:z,isSecondaryButton:k,isUserFollowButton:F,isUserMe:R,onFollow:L,onUnfollow:D,pinKey:O,shouldUseLegoColors:B,showPulsar:Z,size:H,textType:N="FollowFollowing",unfollowEventType:M,viewParameter:G,viewType:U,clientTrackingParams:V}){let W,$=(0,r.ZP)(),Y=(0,m.HG)(),{showToast:K}=(0,p.F9)(),X=(0,_.Z)(),Q=(0,s.Z)(),q=(0,c.Z)(),{checkExperiment:J}=(0,d.F)(),ee=(0,x.Z)(),et=(0,f.Z)(),ei=et&&et.isAuth,{unauthFollowUserId:eo,setUnauthFollowUserId:en}=(0,w.f)(),el=(0,b.mN)()(S),es=(0,n.I0)(),ea=el&&{imageMediumUrl:el.image_medium_url,username:el.username},er=(0,a.Z)(j,O),ed=er?.linkDomain,ec=er?.nativeCreator,eu=er?.originPinner,e_=er?.pinner;W=ec||(ed?ed.officialUser:eu||e_);let ep=ea??W;(0,g.Z)(()=>{!Y&&ei&&eo&&S&&eo===S&&L(S)});let eh=ee({fn:()=>{if(ei)T?(D(S),i||Q({event_type:M,view_type:U,view_parameter:G,object_id_str:S,aux_data:e,clientTrackingParams:V})):(L(S),F&&K(({hideToast:e})=>{let t=ep?.username?`/${ep.username}/`:"";return(0,P.jsx)(v.Z,{handleHide:e,href:t,imageUrl:ep?.imageMediumUrl||"",text:(0,P.jsx)(l.xv,{lineClamp:4,children:$.bt("Following! Their created Pins will show up in your home feed!", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:S})}),i||Q({event_type:o,view_type:U,view_parameter:G,object_id_str:S,aux_data:e,clientTrackingParams:V}));else{if((0,u.NC)(T?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:T?"unfollow-button":"follow-button"}),Y&&J("dweb_upsell_manager_redux").anyEnabled){let e=J("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0;es((0,h.b9)(!!E,e))}else q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:E?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Y&&J("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Y&&J("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});Y||en(S??""),(0,u.NC)("clickthrough")}},modalHeader:(0,y.N4)({i18n:$,toFollow:!T})}),em=!T&&!!Z,eg=()=>{if(R)return $.bt("That's you!", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===N)return T?$.bt("Remove", "Remove", "unfollowButton.removeText", undefined, true):$.bt("Add", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===N?$.bt("Unfollow", "Unfollow", "unfollowButton.unfollowText", undefined, true):$.bt("Following", "Following", "Follow button label - followed state", undefined, true);return T?e:$.bt("Follow", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,P.jsx)(A,{pulsar:em?{show:!0,onClick:eh}:{show:!1},testId:R||T?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(l.zx,{accessibilityLabel:eg(),color:B||"AddRemove"===N||!z&&k||I?"gray":"red",disabled:R||t,fullWidth:C,onClick:em?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),i||Q({event_type:101,component:13672,element:11951,object_id_str:S,view_type:U,view_parameter:G,aux_data:e,clientTrackingParams:V}),eh()},selected:T||!1,size:H,text:eg()})})}},564905:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(545007),n=i(533191),l=i(402151),s=i(424583),a=i(785893);function r({user:e,invertColors:t,isSecondaryButton:i,onTap:r,size:d,viewParameter:c,viewType:u}){let _=(0,o.I0)(),{id:p}=e??{},h=(0,s.kW)(),m=h[p]?h[p].explicitly_followed_by_me:e?.explicitly_followed_by_me;return(0,a.jsx)(n.Z,{followEventType:45,id:p,invertColors:t,isFollowed:m,isSecondaryButton:i,isUserFollowButton:!0,onFollow:()=>{_((0,l.ZN)(p)),r&&r()},onUnfollow:()=>{_((0,l.fv)(p)),r&&r()},pinKey:null,size:d,unfollowEventType:46,viewParameter:c,viewType:u})}},343931:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(883119),n=i(144326),l=i(785893);let s=({isInModal:e})=>{let t=(0,n.ZP)();return(0,l.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),children:(0,l.jsx)(o.xH,{accessibilityLabel:t.bt("Loading", "Loading", "Full page loading state", undefined, true),show:!0})})}},995060:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(883119),n=i(573706),l=i(144326),s=i(667294),a=i(785893);function r({auxData:e,enabled:t,onPull:i,refreshing:r,viewParameter:d}){let c=(0,l.ZP)(),{logContextEvent:u}=(0,n.v)(),_=4079===d,{position:p,startYRefCurrent:h,pullDistance:m}=function({enabled:e,onSelect:t,refreshing:i}){let o=(0,s.useRef)(null),[n,l]=(0,s.useState)(0),[a,r]=(0,s.useState)(!1),d=i?0:n/250,c=d>0,u=()=>{r(!1),l(0)};return(0,s.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!i&&(o.current=e.touches[0].clientY)},s=e=>{if(o.current){let t=(e.touches[0].clientY-o.current)*.5;t>0&&(l(t),e.preventDefault())}},a=()=>{o.current&&(r(!0),t({pullDistance:n,position:d,resetState:u}),o.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",s,{passive:!1}),window.addEventListener("touchend",a),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",s,{passive:!1}),window.removeEventListener("touchend",a)}}},[e,t,n,i,d]),{pullDistance:n,hasStartPulling:c,position:d,startYRefCurrent:o.current,PULL_MENU_DISTANCE:250,isExecuted:a}}({enabled:t,onSelect:t=>{let{pullDistance:o,resetState:n}=t;o>=120&&(u({view_type:1,event_type:158,view_parameter:_?4079:92,aux_data:_?e:{}}),i()),n()},refreshing:r}),g=Math.min(p,1),f=c.bt("Pull to refresh", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,a.jsx)(o.xu,{children:t&&(0,a.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:g,transition:null===h?"all .3s ease-out":void 0}},display:"flex",height:120*p,justifyContent:"center",children:(0,a.jsx)(o.JO,{accessibilityLabel:f,icon:h&&m<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},769423:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(883119),n=i(410150),l=i(785893);let s=()=>{let e=(0,n.HG)();return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},632124:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var o=i(667294),n=i(883119),l=i(730212),s=i(919122),a=i(785893);function r({heading:e,icon:t="arrow-back",placement:i,previousUrl:r,rightComponent:d,legoSettingsEnabled:c=!0,disableRedirect:u=!1,viewParameter:_,viewType:p,onTouch:h}){let{isRTL:m}=(0,l.B)(),g=(0,o.useRef)(null),[f,y]=(0,o.useState)(0);return(0,o.useEffect)(()=>{g.current&&g.current.offsetWidth&&y(g.current.offsetWidth)},[]),(0,a.jsxs)(n.xu,{alignItems:"center",display:"flex",height:60,position:"relative",children:[(0,a.jsx)(n.xu,{flex:"none",left:!m,marginStart:c?1:-2,position:"absolute",right:m,children:(0,a.jsx)(s.Z,{color:c?"darkGray":void 0,disableRedirect:u,fallbackUrl:r,icon:t,onTouch:h,placement:i||"unknown",shouldUseFallbackUrl:!0,size:c?"sm":"lg",viewParameter:_,viewType:p})}),(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{padding:`0 ${d?`${f+12}px`:"48px"}`}},"data-test-id":"header",flex:"grow",marginEnd:c?2:7,paddingX:12,children:(0,a.jsx)(n.X6,{accessibilityLevel:1,align:"center",lineClamp:d?1:void 0,size:"400",children:e})}),c&&!!d&&(0,a.jsx)(n.xu,{ref:g,display:"flex",flex:"none",justifyContent:"end",left:m,marginEnd:1,position:"absolute",right:!m,children:d})]})}},385617:(e,t,i)=>{i.d(t,{K:()=>s,T:()=>a});var o=i(667294),n=i(785893);let l=(0,o.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),s=()=>(0,o.useContext)(l);function a({children:e}){let[t,i]=(0,o.useState)(Object.freeze({})),s=(0,o.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:o})=>i({...t,[e]:o})}),[t]);return(0,n.jsx)(l.Provider,{value:s,children:e})}},442868:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(252071);function n({resourceOptions:e,updatePinFeedbackStatus:t}){t("hidden"),o.Z.create("PinFeedbackResource",e).callUpdate().catch(()=>{t("error")})}},740366:(e,t,i)=>{i.d(t,{Z:()=>o});function o({isDesktop:e}){return+!e}},845873:(e,t,i)=>{i.d(t,{bn:()=>a,fJ:()=>d,gC:()=>r});var o=i(545007),n=i(498490),l=i(785893);let{Provider:s,useHook:a}=(0,n.Z)("Boards");function r(){let e=a();return t=>e[t]}function d({children:e}){let t=(0,o.v9)(({boards:e})=>e,o.wU);return(0,l.jsx)(s,{value:t,children:e})}},124747:(e,t,i)=>{i.d(t,{G:()=>y,Z:()=>x});var o=i(667294),n=i(883119),l=i(31723),s=i(587435),a=i(679482),r=i(829413),d=i(892205),c=i(410150),u=i(969119),_=i(798920),p=i(995060),h=i(769423),m=i(507830),g=i(367912),f=i(785893);let y=25;function x({customLayoutType:e,dynamicHeights:t,getColumnSpanConfig:i,emptyState:y,feedItems:x,feedKey:b,maxColumns:v,minColumns:w,pagination:{hasNext:P,isLoadingNext:A,loadNext:j,refetch:S},pullToRefresh:C,renderFeedItem:I,serverRender:T,useLoadingState:E,isLoadingAccessibilityLabel:z,isLoadedAccessibilityLabel:k}){let F=(0,c.HG)(),{experimentalColumnWidth:R,experimentalGutter:L}=(0,s.Z)(),[D,O]=(0,o.useState)(!1),B="userSearch"===e?window.innerWidth-16:200,Z=A&&0===x.length&&!D&&!E,H="desktopFlashlight"===e||"ideaPage"===e&&F?-2:a.qG,N=w??2;return"userSearch"===e&&(N=1),(0,u.Z)(()=>(window.addEventListener("online",j),()=>window.removeEventListener("online",j))),(0,f.jsxs)(n.xu,{"data-test-id":"MobileFeed",children:[(0,f.jsx)(p.Z,{enabled:!!C,onPull:()=>{S(),O(!0)},refreshing:D}),(0,f.jsxs)(n.xu,{"data-test-id":"grid",marginEnd:H,marginStart:H,opacity:D?.5:1,children:[(0,f.jsx)(r.Z,{isAtEndOfFeed:!P,itemCount:x.length,children:x.length?(0,f.jsx)(n.xu,{"data-test-id":"feed",marginTop:(0,_.kk)({isDesktop:F}),children:(0,f.jsx)(d.Z.Consumer,{children:n=>(0,f.jsx)(o.Fragment,{children:(0,f.jsx)(g.Z,{children:(0,f.jsx)(l.default,{_dynamicHeights:t,_getColumnSpanConfig:i,align:"ideaPage"===e?"start":void 0,cacheKey:b,columnWidth:F?R??a.yF:B,gutterWidth:F?L??4*a.jC:void 0,id:T?b:void 0,isFetching:A,isLoadedAccessibilityLabel:k??"",isLoadingAccessibilityLabel:z??"",items:x,loadItems:j,maxColumns:v,minCols:N,optOutFluidGridExperiment:null!=v,renderItem:({data:e,itemIdx:t})=>I(e,t),scrollContainerRef:n,serverRender:T,useLoadingState:!!E})})})})}):A?(0,f.jsx)(h.Z,{}):y??null}),Z&&(0,f.jsx)(n.xu,{column:12,paddingY:2,children:(0,f.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},367912:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(410150),n=i(383399),l=i(678541),s=i(785893);let a=({children:e})=>{let t=(0,o.HG)();return!(0,n.Z)().isAuth&&t?(0,s.jsx)(l.x,{children:e}):e}},55463:(e,t,i)=>{i.d(t,{f:()=>a,w:()=>r});var o=i(667294),n=i(498490),l=i(785893);let{Provider:s,useHook:a}=(0,n.Z)("Session");function r({children:e}){let[t,i]=(0,o.useState)(void 0),n=(0,o.useCallback)(()=>i(void 0),[]),a=(0,o.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:i,removeUnauthFollowUserId:n}),[t,n]);return(0,l.jsx)(s,{value:a,children:e})}},213131:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(640498),n=i(207630),l=i(26456);function s({enableBizEmailValidator:e,i18n:t,experimentsClient:i,logContextEvent:s}){let a=(0,l.GT)({message:t.bt("Not a valid email address.", "Not a valid email.", "Validation error message for an improperly formated email address", undefined, true)}),r=e=>(0,l.Gy)({max:e,maxErrorString:(0,n.Z)(t.bt("Please enter no more than {{ maxLength }} characters.", "Please enter no more than {{ maxLength }} characters.", "Validation error when a user input is too long", undefined, true),{maxLength:e})}),d=(0,l.aH)({message:t.bt("Your profile needs a name", "Your profile needs a name", "settingsValidators.nameValidator.message", undefined, true)}),c=(0,l.aH)({message:t.bt("Your profile needs a username. Choose wisely so others can find you", "Your profile needs a username. Choose wisely so others can find you", "settingsValidators.usernameValidator.message", undefined, true)}),u=(0,l.aH)({message:t.bt("Missed a spot!", "Missed a spot!", "Missing input value", undefined, true)}),_=(0,l.aH)({message:t.bt("Required", "Required", "Validation error when user input is missing", undefined, true)}),p=(0,l.Jx)({message:t.bt("Not a valid URL", "Not a valid URL", "settingsValidators.urlValidator.message", undefined, true),experimentsClient:i,logContextEvent:s}),h=(0,l.vd)({pattern:/^[\u0590-\u05FF\u0400-\u04FF\w\s]*$/,message:t.bt("Please do not include any special characters.", "Please do not include any special characters.", "profile.AccountSettings.customGender.charactersValidationError", undefined, true)});return{about:[r(500)],biz_email:e?[_,a]:[],business_name:[d,r(65)],contact_name:[u],custom_gender:[u,h],email:[_,a],first_name:[d,r(o.ZP.MAX_CHARS_FOR_FIRST_NAME)],full_name:[d,r(65)],last_name:[r(30)],location:[r(50)],username:[c],website_url:[p]}}},872678:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(883119),n=i(144326),l=i(785893);function s(){let e=(0,n.ZP)();return(0,l.jsx)(o.JO,{accessibilityLabel:e.bt("Secret board", "Secret board", "Accessibility label for icon indicating a secret board", undefined, true),color:"default",icon:"lock",inline:!0})}},243583:(e,t,i)=>{i.d(t,{Yg:()=>r,ib:()=>c,nF:()=>_,xX:()=>u});var o=i(297728),n=i(730212),l=i(410150),s=i(415787);let a=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,s.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...i}})}},r=()=>{let{isAuthenticated:e}=(0,n.B)(),t=(0,l.HG)(),{checkExperiment:i}=(0,o.F)();return e&&!t?a({checkExperiment:i}):{logStat:()=>{}}},d=0,c=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:i}=a({checkExperiment:e});(d+=1)<10&&i(`repin_${d}`)};function u({checkExperiment:e,isDesktop:t,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:t,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,closeupPageSuspenseBehavior:t?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function _(){let{checkExperiment:e}=(0,o.F)(),t=(0,l.HG)(),{isAuthenticated:i}=(0,n.B)();return u({checkExperiment:e,isDesktop:t,isAuthenticated:i})}},798920:(e,t,i)=>{i.d(t,{G9:()=>s,SY:()=>r,kk:()=>l,mb:()=>d,s:()=>a});var o=i(679482),n=i(740366);let l=({isDesktop:e})=>{let t=(0,n.Z)({isDesktop:e});return t?-t:0},s=-2,a=({trafficSource:e,deviceType:t,experimentalGutter:i})=>{let n=i??4*o.jC;return"desktop"===t?n:"board"===e?4:void 0},r=({deviceType:e,customMWebColumnWidth:t,experimentalColumnWidth:i})=>{let n=i??o.yF;return"desktop"===e?n:t||200},d=({gutterWidth:e,itemWidth:t,className:i,minColumns:n=o.yc,maxColumns:l=o.g5})=>{let s=t+e;return Array.from({length:l+1-n},(e,t)=>t+n).map(t=>({minWidth:t===n?0:t*s,maxWidth:t===l?null:(t+1)*s-1,styles:`
      .${i} {
        max-width: ${t*s-e}px;
      }
      `})).map(({minWidth:e,maxWidth:t,styles:i})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${i}
    }
  `).join("")}},678541:(e,t,i)=>{i.d(t,{D:()=>r,x:()=>a});var o=i(667294),n=i(1006),l=i(785893);let s=(0,o.createContext)(()=>{}),a=({children:e})=>{let[t,i]=(0,o.useState)(null),a=(0,o.useCallback)(e=>{(0,n.My)("dweb.unauth.context_menu.open_menu"),i(e)},[]),r=!!t;return(0,o.useEffect)(()=>{let e=()=>{i(null),(0,n.My)("dweb.unauth.context_menu.click_away")};return r&&document.addEventListener("click",e),()=>{r&&document.removeEventListener("click",e)}},[r]),(0,l.jsx)(s.Provider,{value:a,children:(0,l.jsxs)(o.Fragment,{children:[e,t]})})},r=()=>(0,o.useContext)(s)},507830:(e,t,i)=>{i.d(t,{Z:()=>h});var o=i(667294),n=i(883119),l=i(679482),s=i(512541),a=i(410150),r=i(659479),d=i(785893);let c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",_=({size:e})=>(0,d.jsx)(n.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),p=({children:e})=>(0,d.jsx)(n.kC,{direction:"column",gap:{row:0,column:2},children:e}),h=({partialViewportWidth:e})=>{let t="desktop"===(0,a.ZP)(),i=t?l.yF:l.tG;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(s.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map(({name:e,height:t})=>(0,r.Z)({name:e,width:i,height:t})).join("")}),(0,d.jsx)(n.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:l.qG,marginStart:l.qG,children:t?(0,d.jsxs)(n.kC,{direction:"row",gap:{row:l.jC,column:0},children:[(0,d.jsx)(p,{children:(0,d.jsx)(_,{size:"tall"})}),(0,d.jsx)(p,{children:(0,d.jsx)(_,{size:"short"})}),(0,d.jsx)(p,{children:(0,d.jsx)(_,{size:"tall"})}),!e&&(0,d.jsx)(p,{children:(0,d.jsx)(_,{size:"short"})})]}):(0,d.jsxs)(n.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,d.jsxs)(p,{children:[(0,d.jsx)(_,{size:"tall"}),(0,d.jsx)(_,{size:"short"}),(0,d.jsx)(_,{size:"tall"})]}),(0,d.jsxs)(p,{children:[(0,d.jsx)(_,{size:"short"}),(0,d.jsx)(_,{size:"tall"}),(0,d.jsx)(_,{size:"short"}),(0,d.jsx)(_,{size:"tall"})]})]})})]})}},659479:(e,t,i)=>{i.d(t,{Z:()=>o});let o=({name:e,width:t,height:i})=>{let o=`${t}${"number"==typeof t?"px":""}`,n=`${i}${"number"==typeof i?"px":""}`,l="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${l} ${n};
  width: ${o};
  height: ${n};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${l}px 0;
  }
  100% {
      background-position: ${l}px 0;
  }
}
`}},578406:(e,t,i)=>{i.d(t,{N4:()=>l,Wh:()=>o,hr:()=>n});let o=e=>e.bt("Log in to continue", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),n=e=>e.bt("You're almost there! Log in to access all of Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),l=({i18n:e,toFollow:t})=>t?e.bt("Log in to follow", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Log in to unfollow", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},934648:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(144326),n=i(410150),l=i(754143),s=i(578406);let a=()=>{let e=(0,o.ZP)(),t=(0,n.HG)(),{viewer:i,loginForMore:a,limitedLoginModalSubheader:r,limitedLoginModalNextLocation:d}=(0,l.H)();return"LIMITED_LOGIN"===i.type?({modalHeader:i,nextLocation:o})=>n=>{let l=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?l=n:n.event&&(l=n.event)),l&&(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()),a?.setVisible(!0),r?.setText(i||(t?(0,s.hr)(e):(0,s.Wh)(e))),o&&d?.setRoute(o)}:({fn:e})=>e}},699431:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(883119),n=i(793874),l=i(785893);function s({color:e,image:t,isSelected:i,title:s}){let a=(0,n.vs)();return(0,l.jsxs)(o.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:a?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,l.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:t.url&&(0,l.jsx)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,l.jsx)(o.xu,{marginEnd:3,marginStart:2,children:(0,l.jsx)(o.xv,{color:i?"inverse":a?"light":"dark",weight:"bold",children:s})})]})}},718946:(e,t,i)=>{i.d(t,{Z:()=>eZ});var o=i(616550),n=i(410150),l=i(383399),s=i(667294),a=i(883119);let r={activityTypeValues:{ALL:"all",SAVED:"saved",VIEWED:"viewed"}};var d=i(144326),c=i(785893);let u=({title:e="",activityTypeFilter:t=null,allDisabled:i=!1,handleButtonToggle:o=()=>{},isToggleDisabled:n=!0})=>{let l=(0,d.ZP)(),r=i?l.bt("Turn on all", "Turn on all", "Caption for button to enable all recommendations from Pins below", undefined, true):l.bt("Turn off all", "Turn off all", "Caption for button to stop all recommendations from Pins below", undefined, true);return(0,c.jsxs)(a.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,children:[(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(a.xu,{tabIndex:0,children:(0,c.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:e})}),(0,c.jsx)(a.xu,{marginStart:4,children:(0,c.jsx)(a.Fm,{accessibilityLabel:r,disabled:n,onClick:o,selected:i,size:"lg",text:r})})]}),(0,s.isValidElement)(t)&&(0,c.jsx)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"end",children:t})]})};var _=i(545007),p=i(876594),h=i(936437),m=i(240760),g=i(297728);let f={backgroundSize:"cover",backgroundPosition:"50% 50%",cursor:"zoom-in"},y={backgroundColor:"rgba(0,0,0,0.4)"};function x({isDisabled:e,onSelectPin:t,pin:i,enabledDSALaunch:n,disabledByDSA:r}){let u=(0,h.Z)(),_=(0,d.ZP)(),x=(0,o.k6)(),{isAuth:b}=(0,l.Z)(),{checkExperiment:v}=(0,g.F)(),[w,P]=(0,s.useState)(!1),A=i.images?.["474x"]?.url??"",j=i.grid_title?.trim()||i.title?.trim()||i.description?.trim()||_.bt("Pin without title or description", "Pin without title or description", "HomefeedControlActivityItem.Pin.without.title", undefined, true),S={backgroundImage:`url("${A}")`,opacity:1,...f},C={backgroundImage:`url("${A}")`,opacity:1,...f},I={opacity:1,...y},T={opacity:0};return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.st,{children:(0,c.jsx)(a.zd,{rounding:4,wash:!0,children:(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{...w?{border:`2px solid ${p.qtB}`}:{}}},height:304,overflow:"hidden",position:"relative",rounding:4,width:236,children:[(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:e?S:C},"data-test-id":"pin",left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:4,top:!0,children:(0,c.jsx)(a.iP,{accessibilityLabel:j,disabled:r,fullHeight:!0,fullWidth:!0,mouseCursor:b&&v("closeup_dweb_remove_magnifying_glass").anyEnabled?void 0:"zoomIn",onBlur:()=>P(!1),onFocus:()=>P(!0),onTap:()=>x.push(`/pin/${i.id}`),rounding:4})}),e&&(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:e?I:T},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0}),e&&(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:e?{opacity:1}:T},"data-test-id":"homefeed-control-pin-recommendations-disabled",display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,c.jsx)(a.xu,{alignItems:"center","aria-hidden":!e,direction:"column",display:"flex",justifyContent:"start",paddingX:3,paddingY:6,children:(0,c.jsx)(a.xv,{align:"center",color:"inverse",children:_.bt("Recommendations are turned off for this Pin", "Recommendations are turned off for this Pin", "Caption where Pin will no longer be used for recommendations", undefined, true)})})}),(0,c.jsx)(a.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new a.Ry(1e3),children:(0,c.jsx)(a.XZ,{checked:!e&&!r,disabled:r,helperText:"",id:`checkbox-${i.id}`,label:`${_.bt("Tick box for enabling or disabling recommendations for", "Checkbox for enabling or disabling recommendations for", "HomefeedControlActivityItem.Checkbox.Recommendations", undefined, true)} ${j||""}`,labelDisplay:"hidden",onChange:()=>{t()}})})]})})}),n&&(0,c.jsx)(a.xu,{marginStart:2,marginTop:2,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:((e,t,i)=>{let o=new Date(e),n=Math.floor((new Date().getTime()-o.getTime())/1e3);return n<60?t.bt("Just now", "Just now", "homefeedControlActivity.activityItem.justAgoTimeCaption", undefined, true):n<120?t.bt("1 minute ago", "1 minute ago", "homefeedControlActivity.activityItem.justAMinuteAgoTimeCaption", undefined, true):(0,m.nk)(t.bt("{{ timesince }} ago", "{{ timesince }} ago", "HomefeedControlActivity.ActivityItem.timeCaption", undefined, true),{timesince:i(e,!0)}).join("")})(1e3*i.activity_timestamp,_,u)})})]})}var b=i(573706),v=i(635258);let w=()=>{let e=(0,d.ZP)(),{logContextEvent:t}=(0,b.v)(),i=(0,o.k6)();return(0,c.jsx)(a.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,c.jsx)(a.XA,{message:(0,c.jsx)(a.xv,{children:(0,c.jsx)(a.xu,{maxWidth:450,children:(0,m.nk)(e.bt("Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}", "Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}", "HomefeedControl.Activity.upsellMessage", undefined, true),{learnMore:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(a.rU,{accessibilityLabel:"Learn more about profiling",display:"inlineBlock",href:v.fPu,target:"blank",underline:"hover",children:e.bt("Learn more", "Learn more", "HomefeedControl.Activity.searchPrivacyLink", undefined, true)})},"profiling-learn-more")})})}),primaryAction:{accessibilityLabel:"Update settings",label:e.bt("Update setting", "Update setting", "HomefeedControl.Activity.updateSettingButton", undefined, true),onClick:()=>{t({event_type:101,element:13581,view_type:255}),i.push(v.Gxc)}},title:e.bt("Add more personalisation", "Add more personalization", "HomefeedControl.Activity.upsellTitle", undefined, true)})})};var P=i(82864),A=i(409065),j=i(66560);function S(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class C extends s.PureComponent{constructor(...e){super(...e),S(this,"state",{previousDisabledPins:{},disabledPins:{},isAllDisabled:!1}),S(this,"handleSelectPin",e=>{let{reduxPins:t,onSelectPin:i,showPinFeedback:o,hidePinFeedback:n}=this.props,{disabledPins:l,isAllDisabled:s}=this.state,a={...l},r=!l[e.id];a[e.id]=r;let d=t.reduce((e,t)=>e&&a[t.id],!0);this.setState({disabledPins:a,isAllDisabled:(!s||!l[e.id])&&(s||d)}),i(e,a[e.id]),r?o({pinId:e.id,nodeId:e.node_id}):n({pinId:e.id,nodeId:e.node_id})}),S(this,"handleSelectAll",()=>{let{reduxPins:e,onSelectPin:t,showPinFeedback:i,hidePinFeedback:o}=this.props,{isAllDisabled:n,disabledPins:l}=this.state,s={...l},a=!n;e.forEach(e=>{(a&&!l[e.id]||!a&&l[e.id])&&(s[e.id]=!s[e.id],t(e,s[e.id])),a?i({pinId:e.id,nodeId:e.node_id}):o({pinId:e.id,nodeId:e.node_id})}),this.setState({isAllDisabled:a,disabledPins:s})}),S(this,"renderPin",e=>{let{disabledPins:t}=this.state,i=t[e.id],{enabledDSALaunch:o}=this.props,n=o&&e.is_disabled_by_dsa||!1;return(0,c.jsx)(a.xu,{paddingX:2,paddingY:3,children:(0,c.jsx)(x,{disabledByDSA:n,enabledDSALaunch:o,isDisabled:i||n,onSelectPin:()=>{this.handleSelectPin(e)},pin:e})},e.id)})}static getDerivedStateFromProps(e,t){let{reduxPins:i}=e,{previousDisabledPins:o}=t,n=!1,l={};if(i.forEach(e=>{let t=void 0===e.showFeedback?e.is_blocked:e.showFeedback;l[e.id]=t,o[e.id]!==t&&(n=!0)}),n){let e=i.reduce((e,t)=>e&&l[t.id],!0);return{previousDisabledPins:{...l},disabledPins:l,isAllDisabled:e}}return null}render(){let{reduxPins:e,title:t,isFirstSection:i,enabledDSALaunch:o,isDSAOptedOut:n,selectedActivityFilter:l,activityTypeFilter:s}=this.props,{isAllDisabled:d}=this.state;return(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:36}},marginBottom:2,marginTop:2,children:[o&&n&&i&&l!==r.activityTypeValues.SAVED&&(0,c.jsx)(w,{}),(0,c.jsx)(u,{activityTypeFilter:o&&i?s:null,allDisabled:d,handleButtonToggle:this.handleSelectAll,isToggleDisabled:o&&n&&l!==r.activityTypeValues.SAVED,title:t}),(0,c.jsx)(a.xu,{display:"flex",marginEnd:-2,marginStart:-2,marginTop:2,wrap:!0,children:e.map(this.renderPin)})]})}}function I(e){let t=(0,d.ZP)(),{logContextEvent:i}=(0,b.v)(),n=(0,_.I0)(),l=(0,j.AF)(),s=[];e.pins.forEach(e=>{s.push(l[e.id]||e)});let a=(0,o.k6)();return(0,c.jsx)(C,{...e,hidePinFeedback:({pinId:e,nodeId:t})=>n((0,A.I1)({id:e,nodeId:t})),history:a,i18n:t,logContextEvent:i,reduxPins:s,showPinFeedback:({pinId:e,nodeId:i})=>n((0,A.q1)({id:e,text:P.Z.PIN_HIDDEN(t),nodeId:i}))})}S(C,"defaultProps",{isDSAOptedOut:!1});var T=i(206835);function E(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let z=a.Rk.createMeasurementStore();class k extends s.PureComponent{constructor(...e){super(...e),E(this,"state",{blocks:[],pinIndex:0,selectedFilterOption:r.activityTypeValues.ALL}),E(this,"handleSelectPin",(e,t)=>{let{id:i,is_promoted:o,is_downstream_promotion:n,is_disabled_by_dsa:l}=e,{logContextEvent:s}=this.props;l||((0,T.t)("complaint",{pin_id:i,complaint_reason:0,feedback_type:4,promoted:o&&!n,recommendation_reason_id:4,through_id:i,undo:!t},void 0,s),s({event_type:t?107:106,view_type:255,view_parameter:3290,object_id_str:i,element:11352}))}),E(this,"renderBlock",({data:e,itemIdx:t})=>{let{title:i,pins:o}=e,{isDSAOptedOut:n,activityTypeFilter:l,enabledDSALaunch:s,selectedActivityFilter:r}=this.props;return(0,c.jsx)(a.xu,{children:(0,c.jsx)(I,{activityTypeFilter:l,enabledDSALaunch:s,isDSAOptedOut:n,isFirstSection:0===t,onSelectPin:this.handleSelectPin,pins:o,selectedActivityFilter:r,title:i})},t)})}static getDerivedStateFromProps(e,t){let{pins:{data:i},i18n:o,getHumanizedTimeSince:n,selectedActivityFilter:l}=e,{blocks:s,pinIndex:a,selectedFilterOption:r}=t,d=l!==r,c=d?0:a,u=d?[]:s.slice();if(!i||i.length===c)return null;let _=i.slice(c),p={};_.forEach(e=>{void 0===p[e.id]&&(p[e.id]=e.activity_timestamp)});let h={},m={},g=[],f=u.map(e=>e.title);return _.filter(e=>p[e.id]).sort((e,t)=>p[t.id]-p[e.id]).forEach(e=>{if(h[e.id])return;h[e.id]=!0;let t=function(e,t,i){let o=Math.floor((Date.now()-e)/864e5),n=Date.now();return 0===o?t.bt("Today", "Today", "Caption when pin was interacted with today", undefined, true):1===o?t.bt("Yesterday", "Yesterday", "Caption when pin was interacted with yesterday", undefined, true):i(new Date(n-864e5*o).toString())}(1e3*parseInt(p[e.id],10),o,n);m[t]=[...m[t]||[],e],-1===g.indexOf(t)&&g.push(t)}),g.forEach(e=>{let t=e,i=m[e],o=f.indexOf(e);if(0===u.length)u.push({title:t,pins:i});else if(-1===o)t=e,u.push({title:t,pins:i});else if(-1!==o){let t=u.find(t=>t.title===e);if(t&&t.pins){t.pins=t.pins.concat(i);let e=t.pins.length,n=Math.ceil(e/3),l=Math.ceil((e+i.length)/3);if(n!==l){let e=u[o],t=z.map.get(e);t&&z.map.set(e,t+(l-n)*400)}}}}),{pinIndex:i.length,blocks:u,selectedFilterOption:l||r}}render(){let{pins:e,i18n:t,enabledDSALaunch:i,activityTypeFilter:o}=this.props,{blocks:n}=this.state;return(0,c.jsxs)(a.xu,{maxWidth:922,children:[(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,c.jsx)(a.xv,{color:"subtle",size:"300",children:t.bt("Hide ideas related to Pins you recently saved or tapped to view close-up.", "Hide ideas related to Pins you recently saved or tapped to view close-up.", "HomefeedControl.Activity.headingMessage", undefined, true)})}),e.data&&0===e.data.length&&(0,c.jsx)(u,{activityTypeFilter:i?o:null,title:""}),(0,c.jsx)(a.Rk,{columnWidth:922,gutterWidth:0,items:n,loadItems:e.fetchMore,measurementStore:z,minCols:1,renderItem:({data:e,itemIdx:t})=>this.renderBlock({data:e,itemIdx:t}),scrollContainer:()=>window}),e.isFetching&&(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,c.jsx)(a.xH,{accessibilityLabel:this.props.i18n.bt("Loading", "Loading", " - ", undefined, true),show:!0})})]})}}let F=function(e){let{logContextEvent:t}=(0,b.v)(),i=(0,d.ZP)(),o=(0,h.Z)();return(0,c.jsx)(k,{...e,getHumanizedTimeSince:o,i18n:i,logContextEvent:t})};function R(e){let[t,i]=(0,s.useState)(!1),o=(0,s.useRef)(null),{activityFilter:n,setActivityFilter:l,activityTypeOptions:r}=e,d=({item:e})=>{l(e),i(!1)};return(0,c.jsxs)(a.kC,{justifyContent:"center",children:[(0,c.jsx)(a.hU,{ref:o,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:t,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:()=>i(e=>!e),selected:t,size:"xl"}),t&&(0,c.jsx)(a.Lt,{anchor:o.current,disableMobileUI:!0,id:"activity-type-filter-dropdown",onDismiss:()=>i(!1),children:r.length>0&&r.map(e=>(0,c.jsx)(a.Lt.Item,{onSelect:d,option:e,selected:n},e.value))})]})}var L=i(640498),D=i(872678);function O({board:{id:e,name:t,image_cover_url:i,pin_count:o,section_count:n,privacy:l,board_order_modified_at:r,is_collaborative:u,collaborating_users:_,url:p=""},onToggle:g,isEnabled:f,enabledDSALaunch:y,isDSAOptedOut:x}){let b=(0,d.ZP)(),v=(0,h.Z)(),w=l===L.ZP.BoardPrivacy.SECRET,P=r&&v(r,!0);return(0,c.jsx)(a.xu,{"data-test-id":"homefeed-board-item",marginEnd:-2,marginStart:-2,children:(0,c.jsx)(a.iP,{disabled:y&&x,onTap:g,rounding:2,children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.st,{children:(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(a.xu,{flex:"none",marginEnd:2,overflow:"hidden",rounding:1,children:(0,c.jsxs)(a.Tg,{accessibilityLabel:(0,m.nk)(b.bt("{{name}} board", "{{name}} board", "homefeedControlBoardItem.tapArea.accessibilityLabel", undefined, true),{name:t}).join(""),disabled:y&&x,href:p,onTap:({event:e})=>e.stopPropagation(),rounding:2,children:[(0,c.jsx)(a.zd,{height:60,rounding:4,wash:!0,width:60,children:i?(0,c.jsx)(a.Ee,{alt:(0,m.nk)(b.bt("{{name}} board cover", "{{name}} board cover", "homefeedControlBoardItem.imageCover.accessibilityLabel", undefined, true),{name:t}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:i}):(0,c.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})}),w&&(0,c.jsx)(a.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,c.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,c.jsx)(D.Z,{})})})]})}),(0,c.jsxs)(a.xu,{opacity:y&&x?.7:1,children:[(0,c.jsx)(a.xu,{marginBottom:1,children:(0,c.jsx)(a.xv,{lineClamp:1,size:"400",weight:"bold",children:t})}),(0,c.jsxs)(a.kC,{gap:2,children:[(0,c.jsxs)(a.xv,{inline:!0,size:"100",children:[(0,m.nk)(b.nbt(["{{ pinCount }} Pin", "{{ pinCount }} Pins"], o ?? 0, "HomefeedControlBoardItem.pinCount", true),{pinCount:o})," ",(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("span",{children:"  "}),(0,m.nk)(b.nbt(["{{ sectionCount }} section", "{{ sectionCount }} sections"], n ?? 0, "HomefeedControlBoardItem.boardDetails.sectionCount", true),{sectionCount:n})," "]})]}),(0,c.jsx)(a.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:P})]})]}),(0,c.jsx)(a.xu,{flex:"grow"}),u&&(0,c.jsx)(a.xu,{flex:"none",marginStart:3,children:_&&(0,c.jsx)(a.HE,{accessibilityLabel:b.bt("Collaborative board", "Collaborative board", "HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard", undefined, true),collaborators:_.map(e=>({name:e.full_name??"",src:e.image_medium_url??"",color:e?.avatar_color_index??void 0})),size:"xs"})}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"end",marginStart:3,children:(0,c.jsxs)(a.xu,{paddingX:1,children:[(0,c.jsx)(a.xu,{display:"visuallyHidden",children:(0,c.jsx)(a.__,{htmlFor:e,children:(0,m.nk)(b.bt("Select {{name}}", "Select {{name}}", "homefeedcontrolboarditem.select.accessibilityLabel", undefined, true),{name:t})})}),(0,c.jsx)(a.rs,{disabled:y&&x,id:e,onChange:()=>{},switched:!(y&&x)&&f})]})})]})})})})})}var B=i(91244),Z=i(845873);function H(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let N=a.Rk.createMeasurementStore();class M extends s.PureComponent{constructor(...e){super(...e),H(this,"state",{updatedBoardRecommendations:{}}),H(this,"getBoardRecommendationsState",e=>{let{reduxBoards:t}=this.props,{updatedBoardRecommendations:i}=this.state,o=t[e.id];return i[e.id]??!!o?.allow_homefeed_recommendations}),H(this,"handleBoardToggle",e=>{let{category:t,collaborator_invites_enabled:i,collaborator_requests_enabled:o,description:n,id:l,name:s,privacy:a}=e,{updateBoard:r}=this.props,d=!this.getBoardRecommendationsState(e),c={category:t,collaborator_invites_enabled:i,collaborator_requests_enabled:o,description:n??"",name:s,privacy:a,allow_homefeed_recommendations:d};r(l,c),this.setState(({updatedBoardRecommendations:e})=>({updatedBoardRecommendations:{...e,[l]:d}}));let u=c.allow_homefeed_recommendations?106:107;this.props.logContextEvent({event_type:u,view_type:255,view_parameter:3291,object_id_str:e.id,element:11351})}),H(this,"renderHeader",()=>(0,c.jsx)(a.xu,{alignItems:"center","data-test-id":"homefeed-control-message-text",display:"flex",marginBottom:3,width:488,children:(0,c.jsx)(a.xv,{color:"subtle",size:"300",children:this.props.i18n.bt("Switch off a board to stop seeing ideas related to it. Don't worry, this won't affect your board.", "Switch off a board to stop seeing ideas related to it. Don't worry, this won't affect your board.", "HomefeedControl.Board.headingMessage", undefined, true)})}))}render(){let{boards:e,enabledDSALaunch:t,isDSAOptedOut:i}=this.props;return(0,c.jsxs)(a.xu,{"data-test-id":"boards_table",width:el,children:[this.renderHeader(),t&&i&&(0,c.jsx)(w,{}),(0,c.jsx)(a.Rk,{columnWidth:el,gutterWidth:0,items:e.data||[],loadItems:e.fetchMore,measurementStore:N,minCols:1,renderItem:({data:e})=>(0,c.jsx)(O,{board:e,enabledDSALaunch:t,isDSAOptedOut:i,isEnabled:this.getBoardRecommendationsState(e),onToggle:()=>this.handleBoardToggle(e)},e.id),scrollContainer:()=>window})]})}}function G(e){let{logContextEvent:t}=(0,b.v)(),i=(0,d.ZP)(),o=(0,Z.bn)(),n=(0,_.I0)();return(0,c.jsx)(M,{...e,i18n:i,logContextEvent:t,reduxBoards:o,updateBoard:(e,t)=>n((0,B.V)(e,t))})}var U=i(531801);function V({emptyState:e,handleFollowingCountChange:t,suppressToasts:i,usersResource:o,truncateName:n=!1}){let l=(0,d.ZP)(),{data:s,fetchMore:r,isFetching:u,isAtEnd:_,isLoaded:p}=o,h=[];for(let e=0;e<12;e+=1)h.push((0,c.jsx)(a.xu,{width:260},e));return(0,c.jsxs)(a.xu,{"data-test-id":"profile-users-feed",children:[(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.gr,{fetchMore:r,isAtEnd:_,isFetching:u}),p&&s&&0===s.length&&e?e:(0,c.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:4,justifyContent:"between",wrap:!0,children:[s&&s.map(e=>(0,c.jsx)(U.Z,{data:e,handleFollowingCountChange:t,invertButtonColor:!1,suppressToasts:i,truncateName:n,viewParameter:50,viewType:4},e.id)),h.length>0&&h.map(e=>e)]})]}),(0,c.jsx)(a.xu,{marginBottom:1,children:(0,c.jsx)(a.xH,{accessibilityLabel:l.bt("Loading additional users", "Loading additional users", "Label for the loading state spinner in the People section of the Follower/Following page", undefined, true),show:u||!p})})]})}class W extends s.PureComponent{render(){let{users:e}=this.props;return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(a.xu,{marginBottom:3,children:(0,c.jsx)(a.xv,{align:"start",color:"subtle",size:"300",children:this.props.i18n.bt("Unfollow a person or brand to stop seeing their published Pins. They wont be notified.", "Unfollow a person or brand to stop seeing their published Pins. They wont be notified.", "HomefeedControl.following.headingMessage", undefined, true)})}),e.data&&e.data.length>0&&(0,c.jsx)(V,{suppressToasts:!0,truncateName:!0,usersResource:e})]})}}let $=function(e){let t=(0,d.ZP)();return(0,c.jsx)(W,{...e,i18n:t})};var Y=i(855666),K=i(917463),X=i(620171);let Q=a.Rk.createMeasurementStore();class q extends s.PureComponent{render(){let{topics:e,i18n:t}=this.props;return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,c.jsx)(a.xv,{color:"subtle",size:"300",children:t.bt("Add interests to start seeing related ideas. Remove interests to hide related ideas youre no longer interested in.", "Add interests to start seeing related ideas. Remove interests to hide related ideas youre no longer interested in.", "HomefeedControl.Interests.headingMessage", undefined, true)})}),(0,c.jsx)(a.xu,{marginTop:7,children:(0,c.jsx)(a.Rk,{columnWidth:176,gutterWidth:16,items:e.data||[],loadItems:e.fetchMore,measurementStore:Q,minCols:4,renderItem:({data:e})=>{let{id:t="",images:i={},name:o="",background_color:n="",is_followed:l=!1,url_name:s=""}=e,{urlName:r}=(0,X.Z)(s),{i18n:d}=this.props,u=d.bt("Remove", "Remove", "homefeedControl.topics.remove", undefined, true),_=d.bt("Add", "Add", "homefeedControl.topics.add", undefined, true),p=t=>{this.props.logContextEvent({event_type:t?106:107,view_type:255,view_parameter:3293,object_id_str:e.id,element:11353})};return(0,c.jsx)(a.xu,{height:248,marginBottom:2,children:(0,c.jsx)(K.Z,{backgroundColor:n,followedByMe:l,followingButton:(0,c.jsx)(Y.Z,{isFollowed:l,isFollowedText:u,isNotFollowedText:_,onFollow:()=>p(!0),onUnFollow:()=>p(!1),primaryAction:!0,size:"lg",topicId:t}),height:176,id:t,image:i["400x"],name:o,url:r,width:176})},t)},scrollContainer:()=>window,virtualize:!0})})]})}}let J=function(e){let{logContextEvent:t}=(0,b.v)(),i=(0,d.ZP)();return(0,c.jsx)(q,{...e,i18n:i,logContextEvent:t})};var ee=i(730212),et=i(961754),ei=i(584288),eo=i(418410);function en(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let el=740,es={ACTIVITY:0,TOPICS:1,BOARDS:2,PROFILES:3},ea="/edit/history";class er extends s.PureComponent{constructor(e){super(e),en(this,"handleTabChange",({activeTabIndex:e})=>{let t,i,o,{history:n}=this.props;e===es.BOARDS?(t="/edit/boards",i=3291,o=11348):e===es.ACTIVITY?(t=ea,i=3290,o=11349):e===es.TOPICS?(t="/edit/topics",i=3293,o=11350):e===es.PROFILES&&(t="/edit/profiles",i=3555,o=12271),this.props.logContextEvent({event_type:101,view_type:255,view_parameter:i,element:o}),this.setState({activeTabIndex:e,viewParameter:i||3555}),t&&n.push(t)}),en(this,"renderMenu",()=>{let{i18n:e}=this.props,{activeTabIndex:t}=this.state,i=[{text:e.bt("Activity", "Activity", "homefeedControl.tabs.activity", undefined, true),href:"#"},{text:e.bt("Interests", "Interests", "homefeedControl.tabs.interests", undefined, true),href:"#"},{text:e.bt("Boards", "Boards", "homefeedControl.tabs.boards", undefined, true),href:"#"},{text:e.bt("Following", "Following", "homefeedControl.tabs.following", undefined, true),href:"#"}];return(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(a.mQ,{activeTabIndex:t,onChange:({activeTabIndex:e,dangerouslyDisableOnNavigation:t,event:i})=>{i.preventDefault(),t(),this.handleTabChange({activeTabIndex:e})},tabs:i})})}),en(this,"renderData",()=>{let{boards:e,pins:t,topics:i,users:o,enabledDSALaunch:n,isDSAOptedOut:l,activityTypeFilter:s,selectedActivityFilter:a}=this.props,{activeTabIndex:r}=this.state;switch(r){case es.BOARDS:return(0,c.jsx)(G,{boards:e,enabledDSALaunch:n,isDSAOptedOut:l});case es.ACTIVITY:return(0,c.jsx)(F,{activityTypeFilter:s,enabledDSALaunch:n,isDSAOptedOut:l,pins:t,selectedActivityFilter:a});case es.TOPICS:return(0,c.jsx)(J,{topics:i});case es.PROFILES:return(0,c.jsx)($,{users:o});default:return null}}),en(this,"renderEmptyState",()=>{let e,{i18n:t}=this.props,{activeTabIndex:i}=this.state;return i===es.BOARDS?e=t.bt("It looks as if you dont have any boards yet. As you save Pins onto boards, your home feed will get better and better.", "It looks like you dont have any boards yet. As you save Pins onto boards, your home feed will get better and better.", "Empty state caption when user does not have any boards", undefined, true):i===es.ACTIVITY?e=t.bt("You havent visited any Pins yet. When you explore Pins, theyll appear here.", "You havent visited any Pins yet. When you explore Pins, theyll show up here.", "homefeedControl.empty.activity", undefined, true):i===es.TOPICS?e=t.bt("You havent added any topics to your home feed", "You havent added any topics to your home feed", "homefeedControl.empty.topics", undefined, true):i===es.PROFILES&&(e=t.bt("You don't seem to be following any Pinners.", "It looks like you arent following any Pinners.", "homefeedControl.empty.profiles", undefined, true)),(0,c.jsx)(a.xu,{display:"flex",height:"100%",justifyContent:"center",padding:8,width:"100%",children:(0,c.jsx)(a.xu,{width:540,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e})})})}),en(this,"renderBody",()=>{let{topics:e,pins:t,boards:i,users:o}=this.props,{activeTabIndex:n}=this.state,l=i;return(n===es.ACTIVITY?l=t:n===es.TOPICS?l=e:n===es.PROFILES&&(l=o),l.isLoaded)?(0,c.jsxs)(a.xu,{children:[this.renderData(),l.data&&0===l.data.length&&this.renderEmptyState()]}):(0,c.jsx)(a.xH,{accessibilityLabel:"",show:!l.isLoaded})});let{page:t}=this.props,i=es.ACTIVITY;"boards"===t?i=es.BOARDS:"topics"===t?i=es.TOPICS:"profiles"===t&&(i=es.PROFILES),this.state={activeTabIndex:i,viewParameter:3290}}static getDerivedStateFromProps(e){let{page:t,boards:i,history:o}=e;return!t&&i.isLoaded&&i.data&&0===i.data.length&&o.push(ea),null}render(){let{i18n:e}=this.props,t=(0,m.XB)({text:e.bt("Make your Pinterest more <em id=\"1\">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details wont be shown publicly.", "Make your Pinterest more <em id=\"1\">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details wont be shown publicly.", "homefeedControl.instructions", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,c.jsx)(a.xv,{inline:!0,italic:!0,children:e})}});return(0,c.jsx)(eo.default,{activeItem:"HomeFeedTuner",settingsHeaderDescription:t,viewParameter:this.state.viewParameter,viewType:255,children:(0,c.jsx)(ei.c,{children:e=>(0,c.jsx)(a.kC,{alignItems:"stretch",height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsxs)(a.xu,{alignItems:"start",direction:"column",display:"flex",minHeight:`calc(100vh - ${e}px)`,paddingY:4,width:"100%",children:[(0,c.jsx)(a.xu,{"data-test-id":"settings-menu-items",flex:"none",width:el,children:this.renderMenu()}),(0,c.jsx)(a.xu,{flex:"grow",paddingY:1,width:"100%",children:this.renderBody()})]})})})})}}function ed(e){let{logContextEvent:t}=(0,b.v)(),i=(0,d.ZP)(),n=(0,l.Z)(),a=(0,o.k6)(),u=(0,ee.B)(),_=[{value:r.activityTypeValues.ALL,label:i.bt("All", "All", "HomefeedControlActivity.Filter.All", undefined, true)},{value:r.activityTypeValues.SAVED,label:i.bt("Saved", "Saved", "HomefeedControlActivity.Filter.Saved", undefined, true)},{value:r.activityTypeValues.VIEWED,label:i.bt("Viewed", "Viewed", "HomefeedControlActivity.Filter.Viewed", undefined, true)}],p={[r.activityTypeValues.ALL]:13578,[r.activityTypeValues.SAVED]:13579,[r.activityTypeValues.VIEWED]:13580},[h,m]=(0,s.useState)(_[0]),f=(0,et.Z)({name:"UserRecentActivityResource",options:{filter_type:h.value}}),y=(0,et.Z)({name:"UserFollowingResource",options:{username:n.isAuth?n.username:"",exclude_not_explictly_followed:!0},enabledRouteRefresh:!0}),x=(0,et.Z)({name:"BoardsResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item",page_size:25}}),v=(0,et.Z)({name:"InterestFollowingResource",options:{username:n.isAuth?n.username:"",page_size:30}}),{checkExperiment:w}=(0,g.F)(),P=w("uup_dsa_launch_web").anyEnabled,{data:A}=(0,et.Z)({name:"UserSettingsResource"});return(0,c.jsx)(er,{...e,activityTypeFilter:(0,c.jsx)(R,{activityFilter:h,activityTypeOptions:_,setActivityFilter:e=>{m(e),t({event_type:101,element:p[e.value],view_type:255})}}),boards:x,enabledDSALaunch:P,history:a,i18n:i,isDSAOptedOut:A?.dsa_opted_out,logContextEvent:t,pins:f,requestContext:u,selectedActivityFilter:h.value,topics:v,users:y})}en(er,"defaultProps",{enabledDSALaunch:!1});var ec=i(212515),eu=i(602185),e_=i(750077);function ep(){let e,{page:t}=(0,o.UO)();return"boards"===t?e=3291:"history"===t?e=3290:"topics"===t?e=3293:"quiz"===t&&(e=3358),(0,ec.Q)({view_type:255,view_parameter:e}),(0,c.jsx)(eu.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControl",children:(0,c.jsx)(e_.Z,{children:(0,c.jsx)(ed,{page:t})})})}var eh=i(758339),em=i(94757),eg=i(775383),ef=i(488792);let ey=({boardId:e,enabledDSALaunch:t,isDSAOptedOut:i})=>{let o=(0,ef.Z)(),n=(0,_.I0)(),l=(0,d.ZP)(),r=(0,h.Z)(),u=(e,t)=>n((0,B.V)(e,t)),p=(0,Z.gC)()(e??""),{id:g,name:f,allow_homefeed_recommendations:y,image_cover_url:x,privacy:b,section_count:v,collaborating_users:w,board_order_modified_at:P,pin_count:A}=p||{},j=P&&r(P,!0),S=b===L.ZP.BoardPrivacy.SECRET,[C,I]=(0,s.useState)(!y);if(!p)return null;let T=()=>{let e=!C;u(g,{allow_homefeed_recommendations:!e}),o({event_type:e?106:107,view_type:255,view_parameter:3291,object_id_str:g,element:11351}),I(e)};return(0,c.jsx)(a.xu,{width:"100%",children:(0,c.jsx)(a.iP,{disabled:t&&i,onTap:T,children:(0,c.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",padding:2,children:[(0,c.jsxs)(a.kC,{alignItems:"center",dataTestId:"board-data-container",direction:"row",flex:"shrink",justifyContent:"start",children:[(0,c.jsx)(a.xu,{flex:"none",children:(0,c.jsxs)(a.zd,{height:60,rounding:4,width:60,children:[x?(0,c.jsx)(a.Ee,{alt:(0,m.nk)(l.bt("{{ boardName }} cover image", "{{ boardName }} cover image", "HomefeedControlBoardItem.coverImageAlt", undefined, true),{boardName:f??""}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:x}):(0,c.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"}),S&&(0,c.jsx)(a.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,c.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,c.jsx)(D.Z,{})})})]})}),(0,c.jsxs)(a.xu,{"data-test-id":"board-info",opacity:t&&i?.7:1,paddingX:2,children:[(0,c.jsx)(a.__,{htmlFor:g,children:(0,c.jsx)(a.X6,{accessibilityLevel:2,lineClamp:2,overflow:"breakAll",size:"400",children:f})}),(0,c.jsxs)(a.kC,{gap:2,children:[(0,c.jsxs)(a.xv,{inline:!0,size:"100",children:[(0,m.nk)(l.nbt(["{{ pinCount }} Pin", "{{ pinCount }} Pins"], A ?? 0, "HomefeedControlBoardItem.pinCount", true),{pinCount:A})," ",(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("span",{children:"  "}),(0,m.nk)(l.nbt(["{{ sectionCount }} section", "{{ sectionCount }} sections"], v ?? 0, "HomefeedControlBoardItem.boardDetails.sectionCount", true),{sectionCount:v})," "]})]}),(0,c.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:j})]})]})]}),(0,c.jsxs)(a.kC,{dataTestId:"switch-container",gap:3,children:[w&&(0,c.jsx)(a.HE,{accessibilityLabel:l.bt("Collaborative board", "Collaborative board", "HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard", undefined, true),collaborators:w.map(e=>({name:e.full_name??"",src:e.image_medium_url??"",color:e?.avatar_color_index??void 0})),size:"xs"}),(0,c.jsx)(a.rs,{disabled:t&&i,id:g,onChange:T,switched:!(t&&i)&&!C})]})]})})})};var ex=i(559028),eb=i(357013),ev=i(564905);let ew=({userId:e,viewType:t,viewParameter:i})=>{let o=(0,d.ZP)(),n=(0,_.v9)(t=>t.users[e]),{follower_count:l=0,full_name:s,image_medium_url:r,username:u,avatar_color_index:p}=n;return(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,c.jsx)(a.Tg,{href:`/${u}`,children:(0,c.jsxs)(a.kC,{alignItems:"center",gap:2,children:[(0,c.jsx)(ex.qE,{color:p,name:s||"",size:"md",src:r||""}),(0,c.jsxs)(a.kC,{alignContent:"center",direction:"column",justifyContent:"center",children:[(0,c.jsx)(a.xv,{lineClamp:1,overflow:"breakAll",size:"400",weight:"bold",children:s}),(0,c.jsx)(a.xv,{size:"100",children:(0,m.nk)(o.nbt(["{{ followerCount }} follower", "{{ followerCount }} followers"], l, "settings.homefeedTuner.profiles.followersCount", true),{followerCount:(0,c.jsx)(eb.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:l},l)})})]})]})}),(0,c.jsx)(ev.Z,{isSecondaryButton:!0,size:"md",user:n,viewParameter:i,viewType:t})]})},eP=({altText:e,imageUrl:t,imageHeight:i,imageWidth:n,disabledText:s,onChange:r,isDisabled:u,isDisabledByDSA:_,pinId:p})=>{let h=(0,d.ZP)(),{checkExperiment:m}=(0,g.F)(),{isAuth:f}=(0,l.Z)(),y=!i||!n,x=e?e.trim():"",b=(0,o.k6)();return(0,c.jsxs)(a.xu,{"data-test-id":x?"homefeed-control-card":"homefeed-control-card-missing-alt-text",direction:"column",display:"flex",marginBottom:4,padding:1,position:"relative",children:[(0,c.jsx)(a.iP,{accessibilityLabel:x,mouseCursor:f&&m("closeup_dweb_remove_magnifying_glass").anyEnabled?void 0:"zoomIn",onTap:()=>b.push(`/pin/${p}`),tapStyle:"none",children:(0,c.jsx)(a.xu,{height:y?100:"auto",overflow:"hidden",position:"relative",rounding:4,children:(0,c.jsx)(a.Ee,{alt:x,fit:y?"cover":"none",naturalHeight:i||1,naturalWidth:n||1,src:t,children:u&&(0,c.jsx)(a.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",padding:4,children:(0,c.jsx)(a.xv,{align:"center",color:"light",size:"200",children:s})})})})}),(0,c.jsx)(a.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new a.Ry(1e3),children:(0,c.jsx)(a.xu,{alignItems:"end",direction:"column",display:"flex",justifyContent:"end",padding:2,children:(0,c.jsx)(a.XZ,{checked:!u,disabled:_,helperText:"",id:`checkbox-${p}`,label:`${h.bt("Tick box for enabling or disabling ", "Checkbox for enabling or disabling ", "HomefeedControlCard.Checkbox.Recommendations", undefined, true)} ${x}`,labelDisplay:"hidden",onChange:r})})})]})};var eA=i(385617),ej=i(442868);let eS=({pinId:e,enabledDSALaunch:t})=>{let i=(0,d.ZP)(),o=(0,ef.Z)(),n=(0,j.S6)()(e),{getPinFeedbackStatus:l,setPinFeedbackStatus:a}=(0,eA.K)(),r=l({pinId:e}),u=n?.is_blocked,_=t&&n?.is_disabled_by_dsa||!1,[p,h]=(0,s.useState)((void 0===r?u:"hidden"===r)||_);if(!n)return null;let{is_promoted:m,is_downstream_promotion:g,images:f,image_signature:y}=n,x=f?.["170x"];return(0,c.jsx)(eP,{altText:n.alt_text||n.title||n.description||"",disabledText:i.bt("Recommendations are turned off for this Pin", "Recommendations are turned off for this Pin", " - ", undefined, true),imageHeight:x?.height,imageUrl:x?.url??"",imageWidth:x?.width,isDisabled:p||_,isDisabledByDSA:_,onChange:()=>{(0,ej.Z)({resourceOptions:{pin_id:e,complaint_reason:0,feedback_type:4,promoted:m&&!g,recommendation_reason_id:4,through_id:e,undo:p},updatePinFeedbackStatus:t=>a({pinId:e,pinFeedbackStatus:t})}),p&&a({pinId:e,pinFeedbackStatus:""}),o({event_type:p?107:106,view_type:255,view_parameter:3290,object_id_str:e,element:11352,aux_data:{pin_id:e,image_signature:y}}),h(!p)},pinId:e})};var eC=i(632124),eI=i(124747),eT=i(341184);let eE={ACTIVITY:0,TOPICS:1,BOARDS:2,PROFILES:3},ez=e=>(0,c.jsx)(a.xu,{paddingX:4,paddingY:4,children:(0,c.jsx)(a.X6,{align:"center",color:"subtle",size:"400",children:e})}),ek=()=>{let e=(0,d.ZP)(),t=(0,o.k6)(),{logContextEvent:i}=(0,b.v)();return(0,c.jsx)(a.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,c.jsx)(a.XA,{message:(0,c.jsx)(a.xv,{children:(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xv,{children:e.bt("Add more personalisation", "Add more personalization", "HomefeedControlPage.Activity.upsellTitle", undefined, true)}),(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{underline:!1,weight:"bold",children:(0,m.nk)(e.bt("Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}", "Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}", "HomefeedControl.Activity.upsellMessage", undefined, true),{learnMore:(0,c.jsx)(a.rU,{accessibilityLabel:"Learn more",display:"inline",href:v.fPu,target:"blank",underline:"none",children:e.bt("Learn more", "Learn more", "HomefeedControl.Activity.searchPrivacyLink", undefined, true)})})})})]})}),primaryAction:{accessibilityLabel:"Update settings",label:e.bt("Update setting", "Update setting", "HomefeedControlPage.Activity.updateSettingButton", undefined, true),onClick:()=>{i({event_type:101,element:13581,view_type:255}),t.push(v.Gxc)}},title:""})})},eF=({enabledDSALaunch:e,isDSAOptedOut:t})=>{let i=(0,d.ZP)(),{data:o,fetchMore:n,isAtEnd:l,isFetching:a}=(0,et.Z)({name:"BoardsFeedResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item"},noCache:e});return(0,c.jsxs)(s.Fragment,{children:[e&&t&&(0,c.jsx)(ek,{}),(0,c.jsx)(eI.Z,{emptyState:ez(i.bt("You don't have any boards yet", "You don't have any boards yet", "settings.homefeedTuner.boardEmptyState", undefined, true)),feedItems:o??[],feedKey:"profile-boards:me",minColumns:1,pagination:{loadNext:n||(()=>void 0),hasNext:!l,isLoadingNext:a||!1,refetch:()=>void 0},renderFeedItem:i=>(0,c.jsx)(ey,{boardId:i.id,enabledDSALaunch:e,isDSAOptedOut:t})})]})},eR=({enabledDSALaunch:e,isDSAOptedOut:t})=>{let i=(0,d.ZP)(),{logContextEvent:o}=(0,b.v)(),n=(0,s.useRef)(null),[l,r]=(0,s.useState)(!1),u=[{value:"all",label:i.bt("All", "All", "HomefeedControlActivity.Filter.All", undefined, true)},{value:"saved",label:i.bt("Saved", "Saved", "HomefeedControlActivity.Filter.Saved", undefined, true)},{value:"viewed",label:i.bt("Viewed", "Viewed", "HomefeedControlActivity.Filter.Viewed", undefined, true)}],[_,p]=(0,s.useState)(u[0]),h=(e,t)=>{o({event_type:101,element:t,view_type:255}),p(e),r(!1)},{data:m,fetchMore:g,isAtEnd:f,isFetching:y}=(0,et.Z)({name:"UserRecentActivityResource",options:{username:"me",filter_type:_.value},noCache:e});return(0,c.jsxs)(s.Fragment,{children:[e&&(0,c.jsxs)(a.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,width:"100%",children:[(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(a.xu,{tabIndex:0,children:(0,c.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:(()=>{switch(_.value){case u[1].value:return i.bt("Saved Pins", "Saved Pins", "HomefeedControl.Activity.savedPinsHeader", undefined, true);case u[2].value:return i.bt("Viewed Pins", "Viewed Pins", "HomefeedControl.Activity.viewedPinsHeader", undefined, true);default:return i.bt("Viewed and saved Pins", "Viewed and saved Pins", "HomefeedControl.Activity.savedAndViewedPinsHeader", undefined, true)}})()})})}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"end",padding:2,children:(0,c.jsx)(a.hU,{ref:n,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:l,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:()=>r(e=>!e),selected:l,size:"xl"})})]}),e&&t&&_.value!==u[1].value&&(0,c.jsx)(ek,{}),(0,c.jsx)(eI.Z,{emptyState:ez(i.bt("You havent been on Pinterest for a while, so you dont have any recommendations based on your history", "You havent been on Pinterest in a while, so you dont have any recommendations based on your history", "settings.homefeedTuner.historyEmptyState", undefined, true)),feedItems:m??[],feedKey:`user-recent-activity:${_.value}`,pagination:{loadNext:g,hasNext:f,isLoadingNext:y,refetch:()=>void 0},renderFeedItem:t=>(0,c.jsx)(eS,{enabledDSALaunch:e,pinId:t.id})}),(0,c.jsxs)(eh.ZP,{accessibilityModalLabel:"",heading:i.bt("Filter by", "Filter by", "settings.homefeedTuner.activityType.filterHeading", undefined, true),isOpen:l,mobileAccessibilityCloseIconLabel:i.bt("Close context modal for activity filter", "Close context modal for activity filter", "settings.homefeedTuner.activityType.filterCloseIcon", undefined, true),onDismiss:()=>r(!1),type:"contextual_menu",children:[(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(a.Lt.Item,{onSelect:({item:e})=>{h(e,13578)},option:u[0],selected:_},"all_key"),(0,c.jsx)(a.Lt.Item,{onSelect:({item:e})=>{h(e,13579)},option:u[1],selected:_},"saved_key"),(0,c.jsx)(a.Lt.Item,{onSelect:({item:e})=>{h(e,13580)},option:u[2],selected:_},"viewed_key")]})}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:6,children:(0,c.jsx)(a.zx,{color:"gray",onClick:()=>r(!1),size:"lg",text:"Close"})})]})]})},eL=()=>{let e=(0,d.ZP)(),{data:t,fetchMore:i,isAtEnd:o,isFetching:n}=(0,et.Z)({name:"InterestFollowingResource",options:{username:"me"}});return(0,c.jsx)(eI.Z,{emptyState:ez(e.bt("You havent added any topics to your home feed", "You havent added any topics to your home feed", "settings.homefeedTuner.topicsEmptyState", undefined, true)),feedItems:t??[],feedKey:"topic-following:me",pagination:{loadNext:i,hasNext:o,isLoadingNext:n,refetch:()=>void 0},renderFeedItem:e=>(0,c.jsx)(a.xu,{paddingX:1,paddingY:2,children:(0,c.jsx)(eT.Z,{id:e.id,isHomefeedTuner:!0,showFollowButton:!0,viewParameter:3293,viewType:255})})})},eD=()=>{let e=(0,d.ZP)(),{data:t,fetchMore:i,isAtEnd:o,isFetching:n}=(0,et.Z)({name:"UserFollowingResource",options:{username:"me",exclude_not_explictly_followed:!0}});return(0,c.jsx)(eI.Z,{emptyState:ez(e.bt("You aren't following anyone", "You aren't following anyone", "settings.homefeedTuner.profilesEmptyState", undefined, true)),feedItems:t??[],feedKey:"user-following:me",minColumns:1,pagination:{loadNext:i,hasNext:o,isLoadingNext:n,refetch:()=>void 0},renderFeedItem:e=>(0,c.jsx)(a.xu,{paddingX:1,paddingY:3,children:(0,c.jsx)(ew,{userId:e.id,viewParameter:3555,viewType:255})})})},eO=(e,t,i)=>{let o=11348;e===eE.ACTIVITY?o=11349:e===eE.BOARDS?o=11350:e===eE.PROFILES&&(o=12271),i({event_type:101,view_type:255,view_parameter:t,element:o})},eB=()=>{let e=(0,o.$B)(),t=(0,d.ZP)(),{logContextEvent:i}=(0,b.v)(),{checkExperiment:n}=(0,g.F)(),l=n("uup_dsa_launch_mweb").anyEnabled,{data:r}=(0,et.Z)({name:"UserSettingsResource",noCache:!0}),{page:u}=e.params,_={viewParameter:3290,selectedTabIndex:eE.ACTIVITY,component:(0,c.jsx)(eR,{enabledDSALaunch:l,isDSAOptedOut:r?.dsa_opted_out}),title:t.bt("Activity", "Activity", "homefeedControlPage.tabs.activity", undefined, true),description:t.bt("Hide ideas related to Pins you recently saved or tapped to view close-up.", "Hide ideas related to Pins you recently saved or tapped to view close-up.", "homefeedControlPage.activity.descriptionMessage", undefined, true)},p={viewParameter:3291,selectedTabIndex:eE.BOARDS,component:(0,c.jsx)(eF,{enabledDSALaunch:l,isDSAOptedOut:r?.dsa_opted_out}),title:t.bt("Boards", "Boards", "homefeedControlPage.tabs.boards", undefined, true),description:t.bt("Switch off a board to stop seeing ideas related to it. Don't worry, this won't affect your board.", "Switch off a board to stop seeing ideas related to it. Don't worry, this won't affect your board.", "homefeedControlPage.boards.descriptionMessage", undefined, true)},h={activity:_,interests:{viewParameter:3293,selectedTabIndex:eE.TOPICS,component:(0,c.jsx)(eL,{}),title:t.bt("Interests", "Interests", "homefeedControlPage.tabs.interests", undefined, true),description:t.bt("Hide ideas related to topics youre no longer interested in.", "Hide ideas related to topics youre no longer interested in.", "homefeedControlPage.interests.descriptionMessage", undefined, true)},following:{viewParameter:3555,selectedTabIndex:eE.PROFILES,component:(0,c.jsx)(eD,{}),title:t.bt("Following", "Following", "homefeedControlPage.tabs.following", undefined, true),description:t.bt("Unfollow a person or brand to stop seeing their published Pins. They wont be notified.", "Unfollow a person or brand to stop seeing their published Pins. They wont be notified.", "homefeedControlPage.following.descriptionMessage", undefined, true)},boards:p},f=Array(h.length);for(let e in h){let t=h[e];f[t.selectedTabIndex]={text:t.title,href:`/edit/${e}`}}let{viewParameter:y,selectedTabIndex:x,component:v,description:w}=h[u&&u in h?u:Object.keys(h)[0]],P=t.bt("Tune your home feed", "Tune your home feed", "settings.homefeedTuner.title", undefined, true);return(0,ec.Q)({view_type:255,view_parameter:y}),(0,c.jsxs)(eg.default,{hasFixedHeader:!0,children:[(0,c.jsxs)(em.default,{children:[(0,c.jsx)(eC.default,{heading:P,legoSettingsEnabled:!0,previousUrl:"/settings/",shouldUseFallbackUrl:!0,viewParameter:y,viewType:252}),(0,c.jsx)(a.xu,{marginTop:-2,padding:3,children:(0,c.jsx)(a.xv,{align:"center",children:(0,c.jsx)(s.Fragment,{children:(0,m.XB)({text:t.bt("Make your Pinterest more <em id=\"1\">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details wont be shown publicly.", "Make your Pinterest more <em id=\"1\">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details wont be shown publicly.", "homefeedControl.instructions", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,c.jsx)(a.xv,{inline:!0,italic:!0,children:e})}})})})}),(0,c.jsx)(a.xu,{marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,c.jsx)(a.mQ,{activeTabIndex:x,onChange:({activeTabIndex:e})=>eO(e,y,i),tabs:f})}),w&&(0,c.jsx)(a.xu,{alignItems:"center","data-test-id":"homefeed-tab-description",display:"flex",justifyContent:"center",margin:"auto",marginBottom:3,maxWidth:310,children:(0,c.jsx)(a.xv,{align:"center",color:"subtle",size:"300",children:w})})]}),(0,c.jsx)(eu.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControlPageComponent",children:(0,c.jsx)(e_.Z,{children:v})})]})};function eZ(){let e=(0,n.HG)();return(0,l.Z)().isAuth?e?(0,c.jsx)(ep,{}):(0,c.jsx)(eB,{}):(0,c.jsx)(o.l_,{to:"/"})}},599911:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e,t,i,n=!1,l){return{privacy_filter:t?"secret":"public",sort:i||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:n,filter_types:l}}},35486:(e,t,i)=>{i.d(t,{Z:()=>o});let o=(e,t)=>`${e}:${t||""}`},831355:(e,t,i)=>{i.d(t,{O:()=>a,Q:()=>r});var o=i(338623),n=i(35486),l=i(701842);let s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],a={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:i,username:o,privacyFilter:n="all",filterAllPins:l=!1,filterShoppingList:s=!1,includeArchived:a=!0},r)=>({privacy_filter:n,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:o,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:a,redux_normalize_feed:!0,filter_all_pins:l,filter_shopping_list:s,...r?{orbac_subject_id:r}:Object.freeze({})})},r=e=>s.reduce((t,i)=>{let s=[(0,l.N8)("profileBoards",(0,n.Z)(e,i))];return[!0,!1].forEach(t=>{[!0,!1].forEach(n=>{s.push((0,o.jB)(a.name,a.options({username:e,boardOrder:i,mixPublicSecret:t,filterStories:n})))})}),t.concat(s)},[])},119437:(e,t,i)=>{i.d(t,{Br:()=>c,Cr:()=>f,K8:()=>h,L1:()=>S,YQ:()=>j,ZP:()=>y,aX:()=>x,eo:()=>_,md:()=>u,oG:()=>p,oL:()=>b,of:()=>m,xQ:()=>g,xR:()=>A,yT:()=>d});var o=i(252071),n=i(640498),l=i(468808),s=i(338623),a=i(599911),r=i(831355);function d(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function c(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function u(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function _({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:o}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:o}}}let p=(e,t)=>i=>i((0,l.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function h(e){return t=>{e&&(0,r.Q)(e).forEach(e=>{t(e)})}}let m=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),g=e=>p(e,"pin_count"),f=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),y=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function x(e,t,i){let l={name:e,privacy:n.ZP.BoardPrivacy.PUBLIC,username:t,...i?{orbac_subject_id:i}:Object.freeze({})};return e=>o.Z.create("BoardResource",l).callCreate().then(i=>{let o=i.resource_response.data;return e(t&&(0,s.jB)("BoardsResource",(0,a.Z)(t,!1))),o})}function b(e={},t,i){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:i}}let v=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),w=(e,t,i)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:i}}),P=(e,t,i,o)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:i,collaboratingUsers:o}}),A=(e,t,i)=>async n=>{n(v(e,t));let l=await o.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return l.resource_response.error||i({event_type:29,object_id_str:e}),l},j=(e,t,i,n,l,s)=>async a=>{a(w(e,n?.id??"",i));try{(await o.Z.create("accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:n?.id??"",...s?{orbac_subject_id:s}:{}}).callDelete()).resource_response.error||l({event_type:"accepted"===t?25:29,object_id_str:e})}catch(o){a(P(e,i,t,[n]))}},S=(e,t,i,n)=>l=>{let s=o.Z.create("BoardResource",{board_id:i}).callDelete();return l(_({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n})),s}},91244:(e,t,i)=>{i.d(t,{V:()=>s,u:()=>l});var o=i(252071),n=i(119437);let l=e=>t=>o.Z.create("BoardResource",{board_id:e}).callGet().then(e=>{let i=e&&e.resource_response&&e.resource_response.data;return i&&t((0,n.yT)(i)),e});function s(e,t,i){return(l,s)=>{let{boards:a}=s(),r=a[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,...t.name&&{name:t.name},privacy:t.privacy,sensitivity:t.sensitivity||null,...i?{orbac_subject_id:i}:Object.freeze({}),...d};return l((0,n.yT)({...c,id:e})),o.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then(e=>{let i=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(i.allow_homefeed_recommendations=t.allow_homefeed_recommendations),l((0,n.yT)(i)),e}).catch(e=>{throw r&&l((0,n.yT)(r)),e})}}},701842:(e,t,i)=>{function o(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>s,N8:()=>n,Qv:()=>l,_f:()=>o,vX:()=>a});let l=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function s(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function a(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},409065:(e,t,i)=>{function o(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function n(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function l(e){return{type:"PIN_SAVE",payload:e}}function s(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function a(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function r({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:i}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function h(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}i.d(t,{Gb:()=>s,I1:()=>r,Ib:()=>c,JU:()=>h,Ur:()=>l,Vw:()=>a,au:()=>m,b9:()=>_,i0:()=>u,mO:()=>n,q1:()=>d,yR:()=>o,yj:()=>p})},310368:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(883119),n=i(476198),l=i(144326),s=i(961754),a=i(410150),r=i(785893);function d({ideaPinImages:e}){let t=e.map((e,t)=>(0,r.jsx)(o.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,r.jsx)(o.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,r.jsx)(o.kC,{justifyContent:"center",children:(0,r.jsx)(o.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:i,href:c,imageUrl:u}){let _=(0,l.ZP)(),p=(0,a.HG)(),h=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:i}}),m=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,r.jsx)(n.Z,{duration:5e3,href:c,onHide:e,text:m,thumbnail:u?{image:(0,r.jsx)(o.Ee,{alt:_.bt("Image of who you followed", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let g=(h.data||[]).slice(0,3).map(e=>e.images?.[p?"236x":"170x"]),f=(0,r.jsx)(d,{ideaPinImages:g});return(0,r.jsx)(n.Z,{_dangerouslySetThumbnail:f,duration:5e3,href:c,onHide:e,text:m})}},341184:(e,t,i)=>{i.d(t,{Z:()=>A});var o,n,l=i(545007),s=i(167912),a=i(883119),r=i(488792),d=i(730212),c=i(533191),u=i(602290),_=i(144326),p=i(590338),h=i(699431),m=i(785893);let g=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:o,isSelected:n,locale:l,nameTextSize:s,renderAsPill:r,showFollowerCount:d,topicName:c,followerCount:u,image:g})=>{let f=(0,_.ZP)(),y=(0,p.Z)(),x=(0,m.jsx)(a.JO,{accessibilityLabel:f.bt("Selected", "Selected", " - ", undefined, true),color:"light",icon:o?"check":"check-circle",size:o?12:24});return r?(0,m.jsx)(h.Z,{color:e||"#767676",image:g,isSelected:n??!1,title:c}):(0,m.jsxs)(a.xu,{"aria-selected":n,position:"relative",children:[(0,m.jsx)(a.zd,{rounding:o||i?4:2,children:(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,m.jsx)(a.xu,{bottom:!0,left:!0,padding:o&&n?1:0,position:"absolute",right:!0,rounding:o&&n?4:0,top:!0,children:g.url&&(0,m.jsx)(a.Ee,{alt:c,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:g.url})}),(0,m.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:o&&n?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:o?4:void 0,top:!0}),o&&n&&(0,m.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,m.jsx)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(a.xv,{align:"center",color:"light",size:s,weight:"bold",children:c})}):(0,m.jsxs)(a.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,m.jsx)(a.xv,{color:"light",size:s,weight:"bold",children:c}),d&&u>=0&&(0,m.jsx)(a.xu,{paddingY:1,children:(0,m.jsxs)(a.xv,{color:"inverse",size:"100",children:[(0,m.jsx)(a.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(l,u,{shortform:!0,shortform_maximum_fraction_digits:1})}),f.bt("followers", "followers", " - ", undefined, true)]})})]}),n&&(0,m.jsx)(a.xu,{margin:2,position:"absolute",right:!0,top:!0,children:o?(0,m.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},f=void 0!==o?o:o=i(764290),y=({topicRef:e,...t})=>{let i=(0,s.useFragment)(f,e),o=i.images?{url:i.images.url??"",width:i.images.width??0,height:i.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,m.jsx)(g,{backgroundColor:i.background_color??"",followerCount:i.follower_count??0,image:o,topicName:i.name??"",...t})},x=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...o})=>{let n=i||e||t,l=n?.images?.["236x"]||n?.images?.["400x"]||n?.images?.["474x"]||n?.images?.orig||{height:1,url:"",width:1},s=n&&"follower_count"in n&&void 0!==n.follower_count?n.follower_count:-1;return(0,m.jsx)(g,{backgroundColor:n?.background_color||"",followerCount:s,image:l,topicName:n?.name||"",...o})},b=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:o=!1,nameTextSize:n="lg",onTouch:s,padding:_=2,renderAsPill:p,showFollowButton:h=!1,showFollowerCount:g=!1,shouldClickthrough:f=!1,topic:b,viewParameter:v,viewType:w})=>{let P=(0,l.I0)(),A=(0,r.Z)(),{locale:j}=(0,d.B)(),S=(0,m.jsxs)(a.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==b.type?(0,m.jsx)(x,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:o,locale:j,nameTextSize:n,renderAsPill:p,showFollowerCount:g,topic:b.topic,topicBlob:b.topicBlob,topicInfoForContextualExp:b.topicInfoForContextualExp}):(0,m.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:o,locale:j,nameTextSize:n,renderAsPill:p,showFollowerCount:g,topicRef:b.topicRef}),!!b&&h&&(0,m.jsx)(a.xu,{paddingY:2,children:(0,m.jsx)(c.Z,{followEventType:601,id:b.id,inline:t,invertColors:t,isFollowed:b.is_followed,onFollow:e=>P((0,u.ZN)(e,A)),onUnfollow:e=>P((0,u.fv)(e,A)),pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:v||void 0,viewType:w||void 0})})]}),C="/";return b&&(C=`/topics/${b.id}`),f&&b.slug?(0,m.jsx)(a.Tg,{href:C,onTap:({event:e})=>{s?.(e)},rounding:2,tapStyle:"compress",children:(0,m.jsx)(a.xu,{padding:_,children:S})}):S},v=void 0!==n?n:n=i(577272),w=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:o,isSelected:n=!1,nameTextSize:l="lg",onTouch:a,padding:r=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:_=!1,viewParameter:p,viewType:h})=>{let g=(0,s.useFragment)(v,e);return(0,m.jsx)(b,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:o,isSelected:n,nameTextSize:l,onTouch:a,padding:r,renderAsPill:d,shouldClickthrough:_,showFollowButton:c,showFollowerCount:u,topic:{id:g.entityId??"",type:"graphql",is_followed:g.is_followed??!1,topicRef:g},viewParameter:p,viewType:h})},P=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:o,decreaseNamePadding:n=!1,isHomefeedTuner:s,isLego:a,isSelected:r=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:_,showFollowButton:p=!1,showFollowerCount:h=!1,shouldClickthrough:g=!1,viewParameter:f,viewType:y})=>{let x=(0,l.v9)(({topics:t})=>t[e]),v=t??x;return(0,m.jsx)(b,{decreaseNamePadding:n,isHomefeedTuner:s,isLego:a,isSelected:r,nameTextSize:d,onTouch:c,padding:u,renderAsPill:_,shouldClickthrough:g,showFollowButton:p,showFollowerCount:h,topic:{id:e,is_followed:!!v?.is_followed,topic:v,topicBlob:i,topicInfoForContextualExp:o,type:"resource"},viewParameter:f,viewType:y})},A=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:o=!1,nameTextSize:n="lg",onTouch:l,padding:s=2,renderAsPill:a,showFollowButton:r=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:_,...p})=>p.topicRef?(0,m.jsx)(w,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:o,nameTextSize:n,onTouch:l,padding:s,renderAsPill:a,shouldClickthrough:c,showFollowButton:r,showFollowerCount:d,topicRef:p.topicRef,viewParameter:u,viewType:_}):(0,m.jsx)(P,{decreaseNamePadding:e,id:p.id,isHomefeedTuner:t,isLego:i,isSelected:o,nameTextSize:n,onTouch:l,padding:s,renderAsPill:a,shouldClickthrough:c,showFollowButton:r,showFollowerCount:d,topic:p.topic,topicBlob:p.topicBlob,topicInfoForContextualExp:p.topicInfoForContextualExp,viewParameter:u,viewType:_})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61742.en_GB-a9c338a33d1e0975.mjs.map